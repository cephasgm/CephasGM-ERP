<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Multi-Industry Inventory & Warehouse Management</title>
<style>
  /* Reset & Base */
  * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
  body { background: #f4f4f4; color: #333; transition: background 0.3s, color 0.3s; min-height: 100vh; display: flex; flex-direction: column; }
  .dark { background: #1e1e1e; color: #eee; }
  h2 { margin-bottom: 15px; color: #2c3e50; border-bottom: 2px solid #3498db; padding-bottom: 8px; }
  .dark h2 { color: #ecf0f1; border-color: #2980b9; }
  .container { max-width: 1400px; margin: 20px auto; padding: 0 20px; flex: 1; }
  nav { display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
  .dark nav { background: #2c2c2c; }
  nav button { padding: 10px 15px; border: none; cursor: pointer; border-radius: 5px; background: #3498db; color: #fff; transition: background 0.2s; font-weight: 500; }
  nav button.active { background: #2980b9; }
  nav button:hover { background: #2980b9; }
  .back-btn { background: #7f8c8d; }
  .back-btn:hover { background: #636e72; }
  .industry-selector { margin-bottom: 15px; padding: 15px; background: white; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
  .dark .industry-selector { background: #2c2c2c; }
  .industry-selector select { padding: 8px 15px; border-radius: 5px; border: 1px solid #ddd; background: white; width: 100%; }
  .dark .industry-selector select { background: #3c3c3c; border-color: #555; color: #eee; }

  /* Sections */
  section { display: none; animation: fadeIn 0.3s ease-in-out; }
  section.active { display: block; }

  /* Cards Layout */
  .cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 20px; }
  .card { background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); transition: background 0.3s, color 0.3s, transform 0.2s; border-left: 4px solid #3498db; }
  .card:hover { transform: translateY(-3px); box-shadow: 0 4px 15px rgba(0,0,0,0.15); }
  .dark .card { background: #2c2c2c; }
  .card h3 { margin-bottom: 10px; color: #3498db; font-size: 1.1rem; }
  .dark .card h3 { color: #3498db; }

  /* Buttons */
  button { cursor: pointer; }
  .btn-group { display: flex; gap: 10px; margin-bottom: 15px; flex-wrap: wrap; }
  .btn-group button { padding: 8px 15px; border-radius: 4px; border: none; background: #3498db; color: white; transition: background 0.2s; }
  .btn-group button:hover { background: #2980b9; }
  .btn-danger { background: #e74c3c; }
  .btn-danger:hover { background: #c0392b; }
  .btn-success { background: #2ecc71; }
  .btn-success:hover { background: #27ae60; }
  .btn-warning { background: #f39c12; }
  .btn-warning:hover { background: #d35400; }

  /* Modal */
  .modal { display: none; position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.5); justify-content: center; align-items: center; z-index: 1000; }
  .modal-content { background: #fff; padding: 25px; border-radius: 8px; width: 90%; max-width: 600px; max-height: 90vh; overflow-y: auto; position: relative; box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
  .dark .modal-content { background: #2c2c2c; color: #eee; }
  .close { position: absolute; top: 10px; right: 15px; cursor: pointer; font-weight: bold; font-size: 1.5rem; }
  .form-group { margin-bottom: 15px; }
  .form-group label { display: block; margin-bottom: 5px; font-weight: 500; }
  .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; }
  .dark .form-group input, .dark .form-group select, .dark .form-group textarea { background: #3c3c3c; border-color: #555; color: #eee; }
  .form-row { display: flex; gap: 15px; }
  .form-row .form-group { flex: 1; }

  /* Tables */
  .table-container { overflow-x: auto; }
  table { width: 100%; border-collapse: collapse; margin-top: 10px; background: white; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
  .dark table { background: #2c2c2c; }
  table, th, td { border: 1px solid #ddd; }
  .dark table, .dark th, .dark td { border-color: #555; }
  th, td { padding: 12px 8px; text-align: left; }
  th { background: #f8f9fa; font-weight: 600; position: sticky; top: 0; }
  .dark th { background: #3c3c3c; }
  tr.low-stock { background: #ffe0e0; }
  .dark tr.low-stock { background: #5a2a2a; }
  tr.critical-stock { background: #ffcccc; }
  .dark tr.critical-stock { background: #4a1a1a; }
  tr.expired { background: #fff0e0; }
  .dark tr.expired { background: #5a4a2a; }
  tr:hover { background: #f5f5f5; }
  .dark tr:hover { background: #3c3c3c; }

  /* Storage Units */
  .storage-unit { position: relative; min-height: 180px; border: 2px solid #ccc; border-radius: 8px; transition: all 0.3s; background: #f9f9f9; padding: 15px; }
  .dark .storage-unit { border-color: #555; background: #3c3c3c; }
  .storage-unit:hover { border-color: #3498db; }
  .storage-unit-content { text-align: left; }
  .storage-unit-actions { position: absolute; top: 10px; right: 10px; display: flex; gap: 5px; }
  .storage-unit-actions button { background: rgba(0,0,0,0.7); color: white; border: none; border-radius: 3px; width: 25px; height: 25px; display: flex; align-items: center; justify-content: center; cursor: pointer; }
  .storage-details { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: 10px; }
  .storage-detail { font-size: 0.9rem; }
  .storage-detail strong { display: block; color: #666; font-size: 0.8rem; }
  .dark .storage-detail strong { color: #aaa; }

  /* Footer */
  footer { text-align: center; padding: 20px; margin-top: 30px; background: #f8f9fa; color: #6c757d; }
  .dark footer { background: #2c2c2c; color: #aaa; }

  /* Industry-specific styling */
  .industry-port { border-left-color: #3498db; }
  .industry-mining { border-left-color: #e67e22; }
  .industry-oil-gas { border-left-color: #2c3e50; }
  .industry-agriculture { border-left-color: #27ae60; }
  .industry-fmg { border-left-color: #9b59b6; }
  .industry-icd { border-left-color: #f1c40f; }
  .industry-export { border-left-color: #e74c3c; }

  /* Tabs */
  .tabs { display: flex; border-bottom: 1px solid #ddd; margin-bottom: 15px; }
  .tab { padding: 10px 15px; cursor: pointer; border-bottom: 3px solid transparent; }
  .tab.active { border-bottom-color: #3498db; font-weight: 600; }

  /* Status badges */
  .status-badge { display: inline-block; padding: 3px 8px; border-radius: 12px; font-size: 0.8rem; font-weight: 500; }
  .status-available { background: #d4edda; color: #155724; }
  .status-low { background: #fff3cd; color: #856404; }
  .status-critical { background: #f8d7da; color: #721c24; }
  .status-expired { background: #e2e3e5; color: #383d41; }
  .status-quarantine { background: #ffeaa7; color: #5c4a00; }

  /* Batch Update */
  .batch-update-section { background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px; display: none; }
  .dark .batch-update-section { background: #2c2c2c; }
  .batch-update-section.active { display: block; }

  /* Animations */
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  /* Responsive */
  @media (max-width: 768px) {
    .cards { grid-template-columns: 1fr; }
    nav { flex-direction: column; }
    nav button { width: 100%; }
    .table-container { font-size: 0.9rem; }
    th, td { padding: 8px 5px; }
    .form-row { flex-direction: column; gap: 0; }
    .storage-details { grid-template-columns: 1fr; }
  }
</style>
</head>
<body>
<div class="container">
  <nav>
    <button class="back-btn" onclick="window.location.href='https://cephasgm.github.io/CephasGM-ERP/'">‚Üê Back to Main ERP</button>
    <button class="nav-btn active" data-target="dashboard">Dashboard</button>
    <button class="nav-btn" data-target="inventory">Inventory</button>
    <button class="nav-btn" data-target="warehouse">Warehouse</button>
    <button id="themeToggle">Light/Dark</button>
  </nav>

  <div class="industry-selector">
    <label for="industrySelect">Select Industry: </label>
    <select id="industrySelect">
      <option value="general">General</option>
      <option value="port">Port Operations</option>
      <option value="icd">ICD - Inland Container Depot</option>
      <option value="mining">Mining</option>
      <option value="oil-gas">Oil & Gas</option>
      <option value="agriculture">Agriculture</option>
      <option value="fmg">Fast Moving Goods (FMG)</option>
      <option value="export">Export/Import</option>
    </select>
  </div>

  <!-- Dashboard Section -->
  <section id="dashboard" class="active">
    <h2>Operations Dashboard - <span id="currentIndustry">General</span></h2>
    <div class="cards">
      <div class="card industry-port">
        <h3>Port Operations</h3>
        <p>Containers: <span id="portContainers">0</span></p>
        <p>Vessels: <span id="portVessels">0</span></p>
        <p>Customs Clearance: <span id="customsPending">0</span> pending</p>
      </div>
      <div class="card industry-mining">
        <h3>Mining Operations</h3>
        <p>Extracted Materials: <span id="minedMaterials">0</span> tons</p>
        <p>Equipment Status: <span id="equipmentStatus">0</span> active</p>
        <p>Safety Compliance: <span id="safetyScore">100%</span></p>
      </div>
      <div class="card industry-oil-gas">
        <h3>Oil & Gas</h3>
        <p>Crude Stock: <span id="crudeStock">0</span> barrels</p>
        <p>Refined Products: <span id="refinedProducts">0</span></p>
        <p>Pipeline Status: <span id="pipelineStatus">Active</span></p>
      </div>
      <div class="card industry-agriculture">
        <h3>Agriculture</h3>
        <p>Harvest Ready: <span id="harvestReady">0</span> acres</p>
        <p>Storage Capacity: <span id="storageCapacity">0%</span></p>
        <p>Seasonal Products: <span id="seasonalProducts">0</span></p>
      </div>
    </div>
    
    <div class="card">
      <h3>Recent Activities</h3>
      <div id="recentActivities" style="max-height: 200px; overflow-y: auto;">
        <!-- Activities will be populated here -->
      </div>
    </div>
  </section>

  <!-- Inventory Section -->
  <section id="inventory">
    <h2>Multi-Industry Inventory Management - <span id="inventoryIndustry">General</span></h2>
    
    <div class="batch-update-section" id="batchUpdateSection">
      <h3>Batch Update</h3>
      <div class="form-row">
        <div class="form-group">
          <label for="batchField">Field to Update:</label>
          <select id="batchField">
            <option value="quantity">Quantity</option>
            <option value="price">Price</option>
            <option value="location">Location</option>
            <option value="category">Category</option>
          </select>
        </div>
        <div class="form-group">
          <label for="batchValue">New Value:</label>
          <input type="text" id="batchValue" placeholder="Enter new value">
        </div>
      </div>
      <div class="btn-group">
        <button id="applyBatchUpdate" class="btn-success">Apply to Selected Items</button>
        <button id="cancelBatchUpdate" class="btn-danger">Cancel</button>
      </div>
    </div>
    
    <div class="tabs">
      <div class="tab active" data-tab="items">Items</div>
      <div class="tab" data-tab="containers">Containers</div>
      <div class="tab" data-tab="batches">Batches</div>
    </div>
    
    <div class="tab-content" id="items-tab">
      <div class="btn-group">
        <button id="addItemBtn">Add Item</button>
        <button id="importCSV">Import CSV</button>
        <button id="exportCSV">Export CSV</button>
        <button id="bulkDeleteBtn" class="btn-danger" style="display:none;">Delete Selected</button>
        <button id="batchUpdateBtn" class="btn-warning">Batch Update</button>
      </div>
      <div class="table-container">
        <table id="inventoryTable">
          <thead>
            <tr>
              <th><input type="checkbox" id="selectAll"></th>
              <th>ID/SKU</th>
              <th>Name</th>
              <th>Category</th>
              <th>Quantity</th>
              <th>Unit</th>
              <th>Status</th>
              <th>Location</th>
              <th>Expiry</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>
    
    <div class="tab-content" id="containers-tab" style="display:none;">
      <div class="btn-group">
        <button id="addContainerBtn">Add Container</button>
        <button id="trackContainerBtn">Track Container</button>
      </div>
      <div class="table-container">
        <table id="containerTable">
          <thead>
            <tr>
              <th>Container ID</th>
              <th>Type</th>
              <th>Status</th>
              <th>Location</th>
              <th>Contents</th>
              <th>ETA</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>
    
    <div class="tab-content" id="batches-tab" style="display:none;">
      <div class="btn-group">
        <button id="addBatchBtn">Add Batch</button>
        <button id="qualityCheckBtn">Quality Check</button>
      </div>
      <div class="table-container">
        <table id="batchTable">
          <thead>
            <tr>
              <th>Batch ID</th>
              <th>Product</th>
              <th>Quantity</th>
              <th>Production Date</th>
              <th>Expiry Date</th>
              <th>Quality Status</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>
  </section>

  <!-- Warehouse Section -->
  <section id="warehouse">
    <h2>Warehouse & Storage Management - <span id="warehouseIndustry">General</span></h2>
    <div class="btn-group">
      <button id="buildStorageBtn">Build Storage Units</button>
      <button id="addStorageBtn">Add Storage Unit</button>
      <button id="addZoneBtn">Add Zone</button>
      <button id="optimizeLayoutBtn">Optimize Layout</button>
    </div>
    
    <div class="card">
      <h3>Storage Zones</h3>
      <div id="zonesContainer" class="cards"></div>
    </div>
    
    <div class="card">
      <h3>Storage Units</h3>
      <div id="storageContainer" class="cards"></div>
    </div>
    
    <div class="card">
      <h3>Storage Utilization</h3>
      <div style="display: flex; height: 20px; background: #eee; border-radius: 10px; overflow: hidden; margin: 10px 0;">
        <div id="usedSpace" style="background: #3498db; height: 100%;"></div>
        <div id="freeSpace" style="background: #2ecc71; height: 100%;"></div>
        <div id="reservedSpace" style="background: #f39c12; height: 100%;"></div>
      </div>
      <div style="display: flex; justify-content: space-between; font-size: 0.9rem;">
        <span>Used: <span id="usedPercent">0%</span></span>
        <span>Free: <span id="freePercent">0%</span></span>
        <span>Reserved: <span id="reservedPercent">0%</span></span>
      </div>
    </div>
  </section>
</div>

<footer>
  Copyright ¬© 2025 üòÄ
</footer>

<!-- Item Modal -->
<div id="itemModal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h3 id="modalTitle">Add Inventory Item</h3>
    <form id="itemForm">
      <input type="hidden" id="itemIndex">
      <div class="form-row">
        <div class="form-group">
          <label for="itemId">ID/SKU:</label>
          <input type="text" id="itemId" required>
        </div>
        <div class="form-group">
          <label for="itemName">Name:</label>
          <input type="text" id="itemName" required>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label for="itemCategory">Category:</label>
          <input type="text" id="itemCategory" list="categories" required>
          <datalist id="categories"></datalist>
        </div>
        <div class="form-group">
          <label for="itemSubcategory">Subcategory:</label>
          <input type="text" id="itemSubcategory">
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label for="itemQty">Quantity:</label>
          <input type="number" id="itemQty" min="0" required>
        </div>
        <div class="form-group">
          <label for="itemUnit">Unit:</label>
          <select id="itemUnit">
            <option value="pcs">Pieces</option>
            <option value="kg">Kilograms</option>
            <option value="tons">Tons</option>
            <option value="liters">Liters</option>
            <option value="barrels">Barrels</option>
            <option value="containers">Containers</option>
            <option value="pallets">Pallets</option>
          </select>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label for="itemPrice">Price:</label>
          <input type="number" id="itemPrice" step="0.01" min="0" required>
        </div>
        <div class="form-group">
          <label for="itemCurrency">Currency:</label>
          <select id="itemCurrency">
            <option value="USD">USD</option>
            <option value="EUR">EUR</option>
            <option value="GBP">GBP</option>
            <option value="INR">INR</option>
            <option value="CNY">CNY</option>
          </select>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label for="itemSupplier">Supplier:</label>
          <input type="text" id="itemSupplier">
        </div>
        <div class="form-group">
          <label for="itemLocation">Location:</label>
          <input type="text" id="itemLocation">
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label for="itemExpiry">Expiry Date:</label>
          <input type="date" id="itemExpiry">
        </div>
        <div class="form-group">
          <label for="itemHSCode">HS Code:</label>
          <input type="text" id="itemHSCode">
        </div>
      </div>
      <div class="form-group">
        <label for="itemDescription">Description:</label>
        <textarea id="itemDescription" rows="3"></textarea>
      </div>
      <button type="submit" class="btn-success">Save Item</button>
    </form>
  </div>
</div>

<!-- Storage Unit Modal -->
<div id="storageModal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h3 id="storageModalTitle">Add Storage Unit</h3>
    <form id="storageForm">
      <input type="hidden" id="storageIndex">
      <div class="form-row">
        <div class="form-group">
          <label for="storageId">Unit ID:</label>
          <input type="text" id="storageId" required>
        </div>
        <div class="form-group">
          <label for="storageName">Name:</label>
          <input type="text" id="storageName" required>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label for="storageType">Type:</label>
          <select id="storageType">
            <option value="pallet-rack">Pallet Rack</option>
            <option value="shelving">Shelving</option>
            <option value="bulk-storage">Bulk Storage</option>
            <option value="cold-storage">Cold Storage</option>
            <option value="hazardous">Hazardous Materials</option>
            <option value="container-yard">Container Yard</option>
            <option value="tank-farm">Tank Farm</option>
            <option value="silo">Silo</option>
          </select>
        </div>
        <div class="form-group">
          <label for="storageZone">Zone:</label>
          <select id="storageZone">
            <option value="zone-a">Zone A</option>
            <option value="zone-b">Zone B</option>
            <option value="zone-c">Zone C</option>
            <option value="zone-d">Zone D</option>
          </select>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label for="storageCapacity">Capacity:</label>
          <input type="number" id="storageCapacity" min="1" required>
        </div>
        <div class="form-group">
          <label for="storageUnit">Unit:</label>
          <select id="storageUnit">
            <option value="pallets">Pallets</option>
            <option value="sqft">Square Feet</option>
            <option value="cubic-m">Cubic Meters</option>
            <option value="barrels">Barrels</option>
            <option value="tons">Tons</option>
            <option value="containers">Containers</option>
          </select>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label for="storageUtilization">Utilization (%):</label>
          <input type="number" id="storageUtilization" min="0" max="100" value="0">
        </div>
        <div class="form-group">
          <label for="storageStatus">Status:</label>
          <select id="storageStatus">
            <option value="active">Active</option>
            <option value="maintenance">Maintenance</option>
            <option value="full">Full</option>
            <option value="empty">Empty</option>
          </select>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label for="storageTemperature">Temperature Range:</label>
          <input type="text" id="storageTemperature" placeholder="e.g., -20¬∞C to -10¬∞C">
        </div>
        <div class="form-group">
          <label for="storageSecurity">Security Level:</label>
          <select id="storageSecurity">
            <option value="standard">Standard</option>
            <option value="high">High</option>
            <option value="restricted">Restricted</option>
          </select>
        </div>
      </div>
      <div class="form-group">
        <label for="storageNotes">Notes:</label>
        <textarea id="storageNotes" rows="3"></textarea>
      </div>
      <button type="submit" class="btn-success">Save Storage Unit</button>
    </form>
  </div>
</div>

<!-- Zone Modal -->
<div id="zoneModal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h3>Add Zone</h3>
    <form id="zoneForm">
      <div class="form-row">
        <div class="form-group">
          <label for="zoneId">Zone ID:</label>
          <input type="text" id="zoneId" required>
        </div>
        <div class="form-group">
          <label for="zoneName">Zone Name:</label>
          <input type="text" id="zoneName" required>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label for="zoneType">Zone Type:</label>
          <select id="zoneType">
            <option value="storage">Storage</option>
            <option value="receiving">Receiving</option>
            <option value="shipping">Shipping</option>
            <option value="cross-dock">Cross-Dock</option>
            <option value="hazardous">Hazardous Materials</option>
            <option value="cold-storage">Cold Storage</option>
          </select>
        </div>
        <div class="form-group">
          <label for="zoneCapacity">Capacity (units):</label>
          <input type="number" id="zoneCapacity" min="1" required>
        </div>
      </div>
      <div class="form-group">
        <label for="zoneDescription">Description:</label>
        <textarea id="zoneDescription" rows="3"></textarea>
      </div>
      <button type="submit" class="btn-success">Save Zone</button>
    </form>
  </div>
</div>

<script>
  // === SPA Navigation ===
  const navBtns = document.querySelectorAll('.nav-btn');
  const sections = document.querySelectorAll('section');
  navBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      navBtns.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      sections.forEach(sec => sec.classList.remove('active'));
      document.getElementById(btn.dataset.target).classList.add('active');
      updateIndustryContent();
    });
  });

  // === Industry Selection ===
  const industrySelect = document.getElementById('industrySelect');
  let currentIndustry = 'general';
  
  industrySelect.addEventListener('change', function() {
    currentIndustry = this.value;
    updateIndustryContent();
    addActivity(`Industry changed to: ${getIndustryName(currentIndustry)}`, 'system');
  });

  function getIndustryName(industryCode) {
    const industries = {
      'general': 'General',
      'port': 'Port Operations',
      'icd': 'ICD - Inland Container Depot',
      'mining': 'Mining',
      'oil-gas': 'Oil & Gas',
      'agriculture': 'Agriculture',
      'fmg': 'Fast Moving Goods',
      'export': 'Export/Import'
    };
    return industries[industryCode] || 'General';
  }

  function updateIndustryContent() {
    // Update all industry labels
    document.getElementById('currentIndustry').textContent = getIndustryName(currentIndustry);
    document.getElementById('inventoryIndustry').textContent = getIndustryName(currentIndustry);
    document.getElementById('warehouseIndustry').textContent = getIndustryName(currentIndustry);
    
    // Update industry-specific content
    updateIndustrySpecificContent();
    
    // Update inventory categories based on industry
    updateCategoriesList();
    
    // Update warehouse layout based on industry
    updateWarehouseForIndustry();
  }

  // === Light/Dark Mode ===
  const themeToggle = document.getElementById('themeToggle');
  themeToggle.addEventListener('click', () => {
    document.body.classList.toggle('dark');
    localStorage.setItem('theme', document.body.classList.contains('dark') ? 'dark' : 'light');
  });

  // Load saved theme
  if (localStorage.getItem('theme') === 'dark') {
    document.body.classList.add('dark');
  }

  // === Inventory Logic ===
  let inventory = JSON.parse(localStorage.getItem('inventory') || '[]');
  let containers = JSON.parse(localStorage.getItem('containers') || '[]');
  let batches = JSON.parse(localStorage.getItem('batches') || '[]');
  let storageUnits = JSON.parse(localStorage.getItem('storageUnits') || '[]');
  let zones = JSON.parse(localStorage.getItem('zones') || '[]');
  
  const inventoryTable = document.querySelector('#inventoryTable tbody');
  const containerTable = document.querySelector('#containerTable tbody');
  const batchTable = document.querySelector('#batchTable tbody');
  const itemModal = document.getElementById('itemModal');
  const storageModal = document.getElementById('storageModal');
  const zoneModal = document.getElementById('zoneModal');
  const itemForm = document.getElementById('itemForm');
  const storageForm = document.getElementById('storageForm');
  const zoneForm = document.getElementById('zoneForm');
  const modalTitle = document.getElementById('modalTitle');
  const storageModalTitle = document.getElementById('storageModalTitle');
  const bulkDeleteBtn = document.getElementById('bulkDeleteBtn');
  const selectAllCheckbox = document.getElementById('selectAll');
  const batchUpdateSection = document.getElementById('batchUpdateSection');

  // Initialize categories datalist based on industry
  function updateCategoriesList() {
    let categories = [];
    
    // Define industry-specific categories
    const industryCategories = {
      'general': ['Raw Materials', 'Components', 'Finished Goods', 'Supplies'],
      'port': ['Containers', 'Equipment', 'Spare Parts', 'Fuel'],
      'icd': ['Containers', 'Cargo', 'Equipment', 'Documentation'],
      'mining': ['Ore', 'Equipment', 'Chemicals', 'Safety Gear'],
      'oil-gas': ['Crude Oil', 'Refined Products', 'Equipment', 'Chemicals'],
      'agriculture': ['Seeds', 'Fertilizers', 'Produce', 'Equipment'],
      'fmg': ['Food', 'Beverages', 'Personal Care', 'Household'],
      'export': ['Export Goods', 'Documentation', 'Packaging', 'Logistics']
    };
    
    // Get base categories for current industry
    categories = industryCategories[currentIndustry] || industryCategories['general'];
    
    // Add any custom categories from inventory
    const customCategories = [...new Set(inventory.map(item => item.category))];
    categories = [...new Set([...categories, ...customCategories])];
    
    const categoriesDatalist = document.getElementById('categories');
    categoriesDatalist.innerHTML = '';
    categories.forEach(category => {
      const option = document.createElement('option');
      option.value = category;
      categoriesDatalist.appendChild(option);
    });
  }

  // Tab functionality
  document.querySelectorAll('.tab').forEach(tab => {
    tab.addEventListener('click', function() {
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      this.classList.add('active');
      
      document.querySelectorAll('.tab-content').forEach(content => {
        content.style.display = 'none';
      });
      
      document.getElementById(this.dataset.tab + '-tab').style.display = 'block';
    });
  });

  function renderInventory() {
    inventoryTable.innerHTML = '';
    inventory.forEach((item, index) => {
      const tr = document.createElement('tr');
      
      // Determine stock status
      let status = 'available';
      let statusText = 'Available';
      let statusClass = '';
      
      if (item.quantity === 0) {
        status = 'out-of-stock';
        statusText = 'Out of Stock';
        statusClass = 'critical-stock';
      } else if (item.quantity <= item.minStock || item.quantity <= 5) {
        status = 'low';
        statusText = 'Low Stock';
        statusClass = 'low-stock';
      } else if (item.expiry && new Date(item.expiry) < new Date()) {
        status = 'expired';
        statusText = 'Expired';
        statusClass = 'expired';
      }
      
      tr.innerHTML = `
        <td><input type="checkbox" class="selectItem" data-index="${index}"></td>
        <td>${item.id || item.sku}</td>
        <td>${item.name}</td>
        <td>${item.category}</td>
        <td>${item.quantity}</td>
        <td>${item.unit}</td>
        <td><span class="status-badge status-${status}">${statusText}</span></td>
        <td>${item.location || 'N/A'}</td>
        <td>${item.expiry || 'N/A'}</td>
        <td>
          <button onclick="editItem(${index})">Edit</button>
          <button class="btn-danger" onclick="deleteItem(${index})">Delete</button>
        </td>
      `;
      
      if (statusClass) {
        tr.classList.add(statusClass);
      }
      
      inventoryTable.appendChild(tr);
    });
    
    localStorage.setItem('inventory', JSON.stringify(inventory));
    updateCategoriesList();
    updateBulkDeleteButton();
  }

  function renderContainers() {
    containerTable.innerHTML = '';
    containers.forEach((container, index) => {
      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td>${container.id}</td>
        <td>${container.type}</td>
        <td><span class="status-badge status-${container.status}">${container.status}</span></td>
        <td>${container.location}</td>
        <td>${container.contents || 'Empty'}</td>
        <td>${container.eta || 'N/A'}</td>
        <td>
          <button onclick="editContainer(${index})">Edit</button>
          <button class="btn-danger" onclick="deleteContainer(${index})">Delete</button>
        </td>
      `;
      containerTable.appendChild(tr);
    });
    localStorage.setItem('containers', JSON.stringify(containers));
  }

  function renderBatches() {
    batchTable.innerHTML = '';
    batches.forEach((batch, index) => {
      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td>${batch.id}</td>
        <td>${batch.product}</td>
        <td>${batch.quantity} ${batch.unit}</td>
        <td>${batch.productionDate}</td>
        <td>${batch.expiryDate || 'N/A'}</td>
        <td><span class="status-badge status-${batch.qualityStatus}">${batch.qualityStatus}</span></td>
        <td>
          <button onclick="editBatch(${index})">Edit</button>
          <button class="btn-danger" onclick="deleteBatch(${index})">Delete</button>
        </td>
      `;
      batchTable.appendChild(tr);
    });
    localStorage.setItem('batches', JSON.stringify(batches));
  }

  // Batch Update functionality
  document.getElementById('batchUpdateBtn').addEventListener('click', function() {
    const checkedItems = document.querySelectorAll('.selectItem:checked');
    if (checkedItems.length === 0) {
      alert('Please select at least one item to update.');
      return;
    }
    batchUpdateSection.classList.add('active');
  });

  document.getElementById('cancelBatchUpdate').addEventListener('click', function() {
    batchUpdateSection.classList.remove('active');
  });

  document.getElementById('applyBatchUpdate').addEventListener('click', function() {
    const field = document.getElementById('batchField').value;
    const value = document.getElementById('batchValue').value;
    
    if (!value) {
      alert('Please enter a value for the batch update.');
      return;
    }
    
    const checkedItems = document.querySelectorAll('.selectItem:checked');
    const indices = Array.from(checkedItems).map(item => parseInt(item.dataset.index));
    
    indices.forEach(index => {
      if (field === 'quantity') {
        inventory[index].quantity = parseInt(value);
      } else if (field === 'price') {
        inventory[index].price = parseFloat(value);
      } else {
        inventory[index][field] = value;
      }
    });
    
    renderInventory();
    batchUpdateSection.classList.remove('active');
    document.getElementById('batchValue').value = '';
    
    addActivity(`Batch updated ${indices.length} items: ${field} set to ${value}`, 'inventory');
  });

  function addItem(item) { 
    // Generate ID if not provided
    if (!item.id) {
      item.id = 'ITEM-' + Math.random().toString(36).substr(2, 9).toUpperCase();
    }
    inventory.push(item); 
    renderInventory(); 
    addActivity(`Added item: ${item.name}`, 'inventory');
  }
  
  function editItem(index) {
    const item = inventory[index];
    document.getElementById('itemIndex').value = index;
    document.getElementById('itemId').value = item.id;
    document.getElementById('itemName').value = item.name;
    document.getElementById('itemCategory').value = item.category;
    document.getElementById('itemSubcategory').value = item.subcategory || '';
    document.getElementById('itemQty').value = item.quantity;
    document.getElementById('itemUnit').value = item.unit || 'pcs';
    document.getElementById('itemPrice').value = item.price;
    document.getElementById('itemCurrency').value = item.currency || 'USD';
    document.getElementById('itemSupplier').value = item.supplier || '';
    document.getElementById('itemLocation').value = item.location || '';
    document.getElementById('itemExpiry').value = item.expiry || '';
    document.getElementById('itemHSCode').value = item.hsCode || '';
    document.getElementById('itemDescription').value = item.description || '';
    modalTitle.textContent = 'Edit Item';
    itemModal.style.display = 'flex';
  }
  
  function deleteItem(index) { 
    if (confirm('Are you sure you want to delete this item?')) {
      const itemName = inventory[index].name;
      inventory.splice(index,1); 
      renderInventory(); 
      addActivity(`Deleted item: ${itemName}`, 'inventory');
    }
  }

  // Bulk operations
  selectAllCheckbox.addEventListener('change', function() {
    const checkboxes = document.querySelectorAll('.selectItem');
    checkboxes.forEach(checkbox => {
      checkbox.checked = this.checked;
    });
    updateBulkDeleteButton();
  });

  function updateBulkDeleteButton() {
    const checkedItems = document.querySelectorAll('.selectItem:checked');
    bulkDeleteBtn.style.display = checkedItems.length > 0 ? 'block' : 'none';
  }

  document.addEventListener('change', function(e) {
    if (e.target.classList.contains('selectItem')) {
      updateBulkDeleteButton();
    }
  });

  bulkDeleteBtn.addEventListener('click', function() {
    const checkedItems = document.querySelectorAll('.selectItem:checked');
    if (checkedItems.length === 0) return;
    
    if (confirm(`Are you sure you want to delete ${checkedItems.length} item(s)?`)) {
      // Delete from highest index to lowest to avoid index shifting issues
      const indices = Array.from(checkedItems).map(item => parseInt(item.dataset.index)).sort((a, b) => b - a);
      indices.forEach(index => {
        inventory.splice(index, 1);
      });
      renderInventory();
      selectAllCheckbox.checked = false;
      addActivity(`Bulk deleted ${indices.length} items`, 'inventory');
    }
  });

  // Modal handling
  document.getElementById('addItemBtn').addEventListener('click', () => {
    modalTitle.textContent = 'Add Item';
    itemForm.reset();
    document.getElementById('itemIndex').value = '';
    document.getElementById('itemId').value = 'ITEM-' + Math.random().toString(36).substr(2, 9).toUpperCase();
    itemModal.style.display = 'flex';
  });

  document.querySelectorAll('.close').forEach(closeBtn => {
    closeBtn.addEventListener('click', function() {
      this.closest('.modal').style.display = 'none';
    });
  });

  window.addEventListener('click', (e) => {
    if (e.target.classList.contains('modal')) {
      e.target.style.display = 'none';
    }
  });

  itemForm.addEventListener('submit', e => {
    e.preventDefault();
    const index = document.getElementById('itemIndex').value;
    const newItem = {
      id: document.getElementById('itemId').value,
      name: document.getElementById('itemName').value,
      category: document.getElementById('itemCategory').value,
      subcategory: document.getElementById('itemSubcategory').value,
      quantity: parseInt(document.getElementById('itemQty').value),
      unit: document.getElementById('itemUnit').value,
      price: parseFloat(document.getElementById('itemPrice').value),
      currency: document.getElementById('itemCurrency').value,
      supplier: document.getElementById('itemSupplier').value,
      location: document.getElementById('itemLocation').value,
      expiry: document.getElementById('itemExpiry').value,
      hsCode: document.getElementById('itemHSCode').value,
      description: document.getElementById('itemDescription').value
    };
    if (index === '') addItem(newItem);
    else { 
      inventory[index] = newItem; 
      renderInventory(); 
      addActivity(`Updated item: ${newItem.name}`, 'inventory');
    }
    itemModal.style.display = 'none';
  });

  // === Warehouse Storage Units ===
  const storageContainer = document.getElementById('storageContainer');
  const zonesContainer = document.getElementById('zonesContainer');
  
  function renderStorageUnits() {
    storageContainer.innerHTML = '';
    if (storageUnits.length === 0) {
      storageContainer.innerHTML = '<p>No storage units configured. Click "Build Storage Units" to create some.</p>';
      return;
    }
    
    storageUnits.forEach((unit, index) => {
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `
        <div class="storage-unit">
          <div class="storage-unit-actions">
            <button onclick="editStorageUnit(${index})">‚úèÔ∏è</button>
            <button onclick="deleteStorageUnit(${index})">üóëÔ∏è</button>
          </div>
          <div class="storage-unit-content">
            <h4>${unit.name}</h4>
            <div class="storage-details">
              <div class="storage-detail">
                <strong>ID:</strong> ${unit.id}
              </div>
              <div class="storage-detail">
                <strong>Type:</strong> ${getStorageTypeName(unit.type)}
              </div>
              <div class="storage-detail">
                <strong>Zone:</strong> ${unit.zone}
              </div>
              <div class="storage-detail">
                <strong>Capacity:</strong> ${unit.capacity} ${unit.unit}
              </div>
              <div class="storage-detail">
                <strong>Utilization:</strong> ${unit.utilization}%
              </div>
              <div class="storage-detail">
                <strong>Status:</strong> <span class="status-badge status-${unit.status}">${unit.status}</span>
              </div>
              <div class="storage-detail">
                <strong>Temperature:</strong> ${unit.temperature || 'N/A'}
              </div>
              <div class="storage-detail">
                <strong>Security:</strong> ${unit.security}
              </div>
            </div>
            ${unit.notes ? `<p><strong>Notes:</strong> ${unit.notes}</p>` : ''}
          </div>
        </div>
      `;
      storageContainer.appendChild(card);
    });
    localStorage.setItem('storageUnits', JSON.stringify(storageUnits));
    updateStorageUtilization();
  }

  function getStorageTypeName(type) {
    const types = {
      'pallet-rack': 'Pallet Rack',
      'shelving': 'Shelving',
      'bulk-storage': 'Bulk Storage',
      'cold-storage': 'Cold Storage',
      'hazardous': 'Hazardous Materials',
      'container-yard': 'Container Yard',
      'tank-farm': 'Tank Farm',
      'silo': 'Silo'
    };
    return types[type] || type;
  }
  
  function editStorageUnit(index) {
    const unit = storageUnits[index];
    document.getElementById('storageIndex').value = index;
    document.getElementById('storageId').value = unit.id;
    document.getElementById('storageName').value = unit.name;
    document.getElementById('storageType').value = unit.type;
    document.getElementById('storageZone').value = unit.zone;
    document.getElementById('storageCapacity').value = unit.capacity;
    document.getElementById('storageUnit').value = unit.unit;
    document.getElementById('storageUtilization').value = unit.utilization;
    document.getElementById('storageStatus').value = unit.status;
    document.getElementById('storageTemperature').value = unit.temperature || '';
    document.getElementById('storageSecurity').value = unit.security;
    document.getElementById('storageNotes').value = unit.notes || '';
    storageModalTitle.textContent = 'Edit Storage Unit';
    storageModal.style.display = 'flex';
  }
  
  function deleteStorageUnit(index) {
    if (confirm('Are you sure you want to delete this storage unit?')) {
      const unitName = storageUnits[index].name;
      storageUnits.splice(index, 1);
      renderStorageUnits();
      addActivity(`Deleted storage unit: ${unitName}`, 'warehouse');
    }
  }

  function addStorageUnit(unit) {
    storageUnits.push(unit);
    renderStorageUnits();
    addActivity(`Added storage unit: ${unit.name}`, 'warehouse');
  }

  document.getElementById('buildStorageBtn').addEventListener('click', () => {
    // Create default storage units if none exist
    if (storageUnits.length === 0) {
      const industryStorage = getIndustryStorageTemplates();
      industryStorage.forEach(unit => {
        storageUnits.push(unit);
      });
      addActivity(`Built ${industryStorage.length} storage units for ${getIndustryName(currentIndustry)}`, 'warehouse');
    }
    renderStorageUnits();
  });

  document.getElementById('addStorageBtn').addEventListener('click', () => {
    storageModalTitle.textContent = 'Add Storage Unit';
    storageForm.reset();
    document.getElementById('storageIndex').value = '';
    document.getElementById('storageId').value = 'STOR-' + Math.random().toString(36).substr(2, 9).toUpperCase();
    storageModal.style.display = 'flex';
  });

  document.getElementById('addZoneBtn').addEventListener('click', () => {
    zoneForm.reset();
    document.getElementById('zoneId').value = 'ZONE-' + Math.random().toString(36).substr(2, 9).toUpperCase();
    zoneModal.style.display = 'flex';
  });

  document.getElementById('optimizeLayoutBtn').addEventListener('click', () => {
    // Simulate layout optimization
    storageUnits.forEach(unit => {
      unit.utilization = Math.min(100, unit.utilization + Math.floor(Math.random() * 10));
    });
    renderStorageUnits();
    addActivity('Optimized warehouse layout', 'warehouse');
    alert('Warehouse layout has been optimized for better space utilization!');
  });

  storageForm.addEventListener('submit', e => {
    e.preventDefault();
    const index = document.getElementById('storageIndex').value;
    const newUnit = {
      id: document.getElementById('storageId').value,
      name: document.getElementById('storageName').value,
      type: document.getElementById('storageType').value,
      zone: document.getElementById('storageZone').value,
      capacity: parseInt(document.getElementById('storageCapacity').value),
      unit: document.getElementById('storageUnit').value,
      utilization: parseInt(document.getElementById('storageUtilization').value),
      status: document.getElementById('storageStatus').value,
      temperature: document.getElementById('storageTemperature').value,
      security: document.getElementById('storageSecurity').value,
      notes: document.getElementById('storageNotes').value
    };
    
    if (index === '') addStorageUnit(newUnit);
    else { 
      storageUnits[index] = newUnit; 
      renderStorageUnits();
      addActivity(`Updated storage unit: ${newUnit.name}`, 'warehouse');
    }
    storageModal.style.display = 'none';
  });

  function updateStorageUtilization() {
    const totalCapacity = storageUnits.reduce((sum, unit) => sum + unit.capacity, 0);
    const usedCapacity = storageUnits.reduce((sum, unit) => sum + (unit.capacity * (unit.utilization / 100)), 0);
    const usedPercent = totalCapacity > 0 ? Math.round((usedCapacity / totalCapacity) * 100) : 0;
    const freePercent = 100 - usedPercent;
    
    document.getElementById('usedSpace').style.width = `${usedPercent}%`;
    document.getElementById('freeSpace').style.width = `${freePercent}%`;
    document.getElementById('reservedSpace').style.width = `0%`;
    
    document.getElementById('usedPercent').textContent = `${usedPercent}%`;
    document.getElementById('freePercent').textContent = `${freePercent}%`;
    document.getElementById('reservedPercent').textContent = `0%`;
  }

  // Industry-specific storage templates
  function getIndustryStorageTemplates() {
    const templates = {
      'general': [
        { id: 'STOR-GEN1', name: 'Main Storage Rack', type: 'pallet-rack', zone: 'zone-a', capacity: 100, unit: 'pallets', utilization: 65, status: 'active', temperature: '', security: 'standard', notes: 'General purpose storage' },
        { id: 'STOR-GEN2', name: 'Shelving Unit A', type: 'shelving', zone: 'zone-b', capacity: 50, unit: 'sqft', utilization: 40, status: 'active', temperature: '', security: 'standard', notes: 'Small items storage' }
      ],
      'port': [
        { id: 'STOR-PORT1', name: 'Container Yard A', type: 'container-yard', zone: 'zone-a', capacity: 200, unit: 'containers', utilization: 75, status: 'active', temperature: '', security: 'high', notes: '40ft container storage' },
        { id: 'STOR-PORT2', name: 'Equipment Storage', type: 'bulk-storage', zone: 'zone-b', capacity: 5000, unit: 'sqft', utilization: 30, status: 'active', temperature: '', security: 'standard', notes: 'Port equipment and machinery' }
      ],
      'mining': [
        { id: 'STOR-MINE1', name: 'Ore Storage Silo', type: 'silo', zone: 'zone-a', capacity: 5000, unit: 'tons', utilization: 80, status: 'active', temperature: '', security: 'standard', notes: 'Raw ore storage' },
        { id: 'STOR-MINE2', name: 'Hazardous Materials', type: 'hazardous', zone: 'zone-c', capacity: 100, unit: 'sqft', utilization: 45, status: 'active', temperature: '', security: 'restricted', notes: 'Chemicals and explosives' }
      ],
      'oil-gas': [
        { id: 'STOR-OIL1', name: 'Tank Farm A', type: 'tank-farm', zone: 'zone-a', capacity: 100000, unit: 'barrels', utilization: 85, status: 'active', temperature: 'Ambient', security: 'high', notes: 'Crude oil storage' },
        { id: 'STOR-OIL2', name: 'Refined Products', type: 'tank-farm', zone: 'zone-b', capacity: 50000, unit: 'barrels', utilization: 60, status: 'active', temperature: 'Controlled', security: 'high', notes: 'Gasoline and diesel storage' }
      ],
      'agriculture': [
        { id: 'STOR-AGR1', name: 'Grain Silo A', type: 'silo', zone: 'zone-a', capacity: 10000, unit: 'tons', utilization: 70, status: 'active', temperature: '15-20¬∞C', security: 'standard', notes: 'Wheat and corn storage' },
        { id: 'STOR-AGR2', name: 'Cold Storage Unit', type: 'cold-storage', zone: 'zone-b', capacity: 500, unit: 'pallets', utilization: 55, status: 'active', temperature: '0-5¬∞C', security: 'standard', notes: 'Perishable goods' }
      ],
      'fmg': [
        { id: 'STOR-FMG1', name: 'Main Distribution Rack', type: 'pallet-rack', zone: 'zone-a', capacity: 200, unit: 'pallets', utilization: 90, status: 'active', temperature: '15-25¬∞C', security: 'standard', notes: 'Fast-moving consumer goods' },
        { id: 'STOR-FMG2', name: 'Cold Storage', type: 'cold-storage', zone: 'zone-b', capacity: 100, unit: 'pallets', utilization: 75, status: 'active', temperature: '2-8¬∞C', security: 'standard', notes: 'Dairy and frozen foods' }
      ],
      'icd': [
        { id: 'STOR-ICD1', name: 'Container Stack A', type: 'container-yard', zone: 'zone-a', capacity: 150, unit: 'containers', utilization: 65, status: 'active', temperature: '', security: 'high', notes: 'Import/export containers' },
        { id: 'STOR-ICD2', name: 'Cross-Dock Area', type: 'bulk-storage', zone: 'zone-b', capacity: 10000, unit: 'sqft', utilization: 40, status: 'active', temperature: '', security: 'standard', notes: 'Temporary storage for transshipment' }
      ],
      'export': [
        { id: 'STOR-EXP1', name: 'Export Packaging Area', type: 'shelving', zone: 'zone-a', capacity: 300, unit: 'sqft', utilization: 60, status: 'active', temperature: '', security: 'standard', notes: 'Packaging materials and supplies' },
        { id: 'STOR-EXP2', name: 'Finished Goods Storage', type: 'pallet-rack', zone: 'zone-b', capacity: 120, unit: 'pallets', utilization: 80, status: 'active', temperature: '15-25¬∞C', security: 'high', notes: 'Goods ready for export' }
      ]
    };
    
    return templates[currentIndustry] || templates['general'];
  }

  function updateWarehouseForIndustry() {
    // Update storage units based on industry
    if (storageUnits.length === 0) {
      const industryStorage = getIndustryStorageTemplates();
      industryStorage.forEach(unit => {
        storageUnits.push(unit);
      });
    }
    renderStorageUnits();
  }

  // === Activity Log ===
  function addActivity(message, category) {
    const activitiesContainer = document.getElementById('recentActivities');
    const activity = document.createElement('div');
    activity.style.padding = '8px';
    activity.style.borderBottom = '1px solid #eee';
    activity.innerHTML = `
      <strong>${new Date().toLocaleTimeString()}</strong> - ${message}
    `;
    activitiesContainer.prepend(activity);
    
    // Keep only the last 10 activities
    if (activitiesContainer.children.length > 10) {
      activitiesContainer.removeChild(activitiesContainer.lastChild);
    }
  }

  // === Industry Specific Content ===
  function updateIndustrySpecificContent() {
    // Update dashboard based on industry
    const industryMetrics = {
      port: { containers: 42, vessels: 5, customsPending: 12 },
      mining: { materials: 1250, equipment: 18, safety: '98%' },
      'oil-gas': { crude: 50000, refined: 15, pipeline: 'Active' },
      agriculture: { harvest: 350, storage: '75%', seasonal: 28 },
      fmg: { containers: 0, vessels: 0, customsPending: 0 },
      icd: { containers: 25, vessels: 0, customsPending: 8 },
      export: { containers: 18, vessels: 3, customsPending: 5 }
    };
    
    const metrics = industryMetrics[currentIndustry] || { containers: 0, vessels: 0, customsPending: 0 };
    
    document.getElementById('portContainers').textContent = metrics.containers;
    document.getElementById('portVessels').textContent = metrics.vessels;
    document.getElementById('customsPending').textContent = metrics.customsPending;
    
    if (currentIndustry === 'mining' || currentIndustry === 'oil-gas') {
      document.getElementById('minedMaterials').textContent = metrics.materials;
      document.getElementById('equipmentStatus').textContent = metrics.equipment;
      document.getElementById('safetyScore').textContent = metrics.safety;
    }
    
    if (currentIndustry === 'oil-gas') {
      document.getElementById('crudeStock').textContent = metrics.crude;
      document.getElementById('refinedProducts').textContent = metrics.refined;
      document.getElementById('pipelineStatus').textContent = metrics.pipeline;
    }
    
    if (currentIndustry === 'agriculture') {
      document.getElementById('harvestReady').textContent = metrics.harvest;
      document.getElementById('storageCapacity').textContent = metrics.storage;
      document.getElementById('seasonalProducts').textContent = metrics.seasonal;
    }
  }

  // Initialize with some sample data for demo
  function initializeSampleData() {
    if (inventory.length === 0) {
      addItem({
        id: 'ITEM-001',
        name: 'Steel Plates',
        category: 'Raw Materials',
        quantity: 500,
        unit: 'pcs',
        price: 45.50,
        currency: 'USD',
        location: 'Zone A, Rack 1',
        supplier: 'Global Steel Inc.'
      });
      
      addItem({
        id: 'ITEM-002',
        name: 'Industrial Valves',
        category: 'Components',
        quantity: 3,
        unit: 'pcs',
        price: 120.00,
        currency: 'USD',
        location: 'Zone B, Rack 3',
        supplier: 'ValveTech Corp',
        minStock: 5
      });
    }
    
    if (zones.length === 0) {
      zones.push(
        { id: 'ZONE-A', name: 'Zone A', type: 'storage', capacity: 1000, description: 'Main storage area' },
        { id: 'ZONE-B', name: 'Zone B', type: 'storage', capacity: 500, description: 'Secondary storage' },
        { id: 'ZONE-C', name: 'Zone C', type: 'hazardous', capacity: 200, description: 'Hazardous materials area' }
      );
      localStorage.setItem('zones', JSON.stringify(zones));
    }
    
    // Add some sample activities
    addActivity('System initialized with sample data', 'system');
    addActivity('User logged in', 'system');
  }

  // Initial render
  initializeSampleData();
  renderInventory();
  renderStorageUnits();
  updateIndustryContent();
</script>
</body>
</html>
