<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CephasGM Social ¬∑ fully interactive</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
        }

        /* ===== AUTH MODALS ===== */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }
        .modal.active { display: flex; }
        .auth-container {
            background: white;
            border-radius: 20px;
            width: 90%;
            max-width: 450px;
            padding: 2rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }
        .auth-header { text-align: center; margin-bottom: 2rem; }
        .auth-header h2 { color: #0066cc; margin-bottom: 0.5rem; }
        .auth-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            border-bottom: 2px solid #f0f2f5;
        }
        .auth-tab {
            padding: 0.5rem 1rem;
            cursor: pointer;
            color: #65676b;
            font-weight: 500;
            position: relative;
        }
        .auth-tab.active { color: #0066cc; }
        .auth-tab.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100%;
            height: 2px;
            background: #0066cc;
        }
        .auth-form { display: none; }
        .auth-form.active { display: block; }
        .form-group { margin-bottom: 1.5rem; }
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #65676b;
            font-size: 0.9rem;
        }
        .form-group input, .form-group textarea {
            width: 100%;
            padding: 0.8rem 1rem;
            border: 1px solid #ddd;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        .form-group input:focus, .form-group textarea:focus {
            outline: none;
            border-color: #0066cc;
        }
        .btn-auth {
            width: 100%;
            padding: 1rem;
            background: #0066cc;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
        }
        .btn-auth:hover { background: #004999; }
        .auth-footer { text-align: center; margin-top: 1.5rem; color: #65676b; }
        .auth-footer span { color: #0066cc; cursor: pointer; font-weight: 500; }

        /* ===== MAIN APP (Visible after login) ===== */
        .app-container { display: none; }
        .app-container.logged-in { display: block; }

        /* Top Navigation */
        .top-nav {
            background: white;
            padding: 0.5rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .nav-left { display: flex; align-items: center; gap: 1rem; }
        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            background: linear-gradient(135deg, #0066cc, #00aaff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            cursor: pointer;
        }
        .search-bar {
            background: #f0f2f5;
            border-radius: 24px;
            padding: 0.5rem 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            width: 300px;
            position: relative;
        }
        .search-bar input {
            border: none;
            background: transparent;
            outline: none;
            width: 100%;
            font-size: 0.95rem;
        }
        .search-results {
            position: absolute;
            top: 45px;
            left: 0;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            width: 300px;
            max-height: 400px;
            overflow-y: auto;
            display: none;
            z-index: 1100;
        }
        .search-results.active { display: block; }
        .search-result-item {
            padding: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            cursor: pointer;
            transition: background 0.3s;
        }
        .search-result-item:hover { background: #f0f2f5; }

        .nav-middle { display: flex; gap: 0.5rem; }
        .nav-icon {
            padding: 0.5rem 2rem;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.2rem;
            color: #65676b;
            transition: all 0.3s;
            position: relative;
        }
        .nav-icon:hover, .nav-icon.active { background: #f0f2f5; color: #0066cc; }
        .badge {
            background: #e41e3f;
            color: white;
            font-size: 0.7rem;
            padding: 0.1rem 0.4rem;
            border-radius: 30px;
            position: absolute;
            top: -5px;
            right: -5px;
        }
        .nav-right { display: flex; align-items: center; gap: 1rem; }
        .profile-badge {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: #f0f2f5;
            padding: 0.3rem 1rem 0.3rem 0.3rem;
            border-radius: 30px;
            cursor: pointer;
            position: relative;
        }
        .avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: linear-gradient(135deg, #0066cc, #00aaff);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }
        .avatar.large { width: 80px; height: 80px; font-size: 2rem; }
        .avatar.xlarge { width: 120px; height: 120px; font-size: 3rem; }

        .profile-dropdown {
            position: absolute;
            top: 50px;
            right: 0;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            width: 250px;
            display: none;
            z-index: 1001;
        }
        .profile-dropdown.active { display: block; }
        .dropdown-item {
            padding: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            cursor: pointer;
            transition: background 0.3s;
        }
        .dropdown-item:hover { background: #f0f2f5; }
        .dropdown-item.logout { color: #e41e3f; border-top: 1px solid #f0f2f5; }

        /* Main Layout */
        .main-container {
            max-width: 1400px;
            margin: 1rem auto;
            display: grid;
            grid-template-columns: 300px 1fr 300px;
            gap: 1rem;
            padding: 0 1rem;
        }
        .left-sidebar { position: sticky; top: 70px; height: fit-content; }
        .sidebar-card {
            background: white;
            border-radius: 16px;
            padding: 1rem;
            margin-bottom: 1rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .sidebar-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.7rem;
            border-radius: 10px;
            cursor: pointer;
            transition: background 0.3s;
        }
        .sidebar-item:hover { background: #f0f2f5; }
        .sidebar-icon {
            width: 36px;
            height: 36px;
            background: #e4e6eb;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }
        .badge-count {
            margin-left: auto;
            background: #e41e3f;
            color: white;
            padding: 0.1rem 0.5rem;
            border-radius: 30px;
            font-size: 0.7rem;
        }
        .friend-request-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.7rem 0;
            border-bottom: 1px solid #f0f2f5;
        }
        .friend-request-actions { display: flex; gap: 0.5rem; margin-left: auto; }
        .btn-accept {
            background: #0066cc;
            color: white;
            padding: 0.3rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            cursor: pointer;
            border: none;
        }
        .btn-decline {
            background: #f0f2f5;
            color: #65676b;
            padding: 0.3rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            cursor: pointer;
            border: none;
        }

        /* Feed */
        .feed-container {
            background: white;
            border-radius: 16px;
            padding: 1rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .stories-container { margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid #f0f2f5; }
        .stories-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; }
        .stories-grid { display: flex; gap: 0.8rem; overflow-x: auto; }
        .story-item {
            display: flex; flex-direction: column; align-items: center; gap: 0.3rem; cursor: pointer; min-width: 70px;
        }
        .story-ring { width: 66px; height: 66px; border-radius: 50%; padding: 3px; background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888); }
        .story-ring.viewed { background: #c0c0c0; }
        .story-avatar {
            width: 60px; height: 60px; border-radius: 50%; border: 2px solid white; background: #f0f2f5;
            display: flex; align-items: center; justify-content: center; font-size: 1.5rem;
        }
        .create-post { display: flex; gap: 1rem; margin-bottom: 1rem; }
        .post-input {
            flex: 1; background: #f0f2f5; border-radius: 30px; padding: 0.8rem 1rem; border: none;
            outline: none; cursor: pointer;
        }
        .post-actions { display: flex; gap: 1rem; margin-bottom: 1rem; }
        .post-action {
            flex: 1; display: flex; align-items: center; justify-content: center; gap: 0.5rem;
            padding: 0.5rem; border-radius: 10px; cursor: pointer; transition: background 0.3s;
        }
        .post-action:hover { background: #f0f2f5; }

        .post-card { padding: 1rem 0; border-bottom: 1px solid #f0f2f5; }
        .post-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem; }
        .post-author-info { display: flex; gap: 1rem; cursor: pointer; }
        .post-author { font-weight: 600; }
        .post-time { color: #65676b; font-size: 0.8rem; }
        .post-content { margin: 0.5rem 0; line-height: 1.5; white-space: pre-wrap; }
        .post-engagement {
            display: flex; gap: 1rem; padding: 0.5rem 0; border-top: 1px solid #f0f2f5;
            border-bottom: 1px solid #f0f2f5; margin: 0.5rem 0;
        }
        .engage-btn {
            flex: 1; display: flex; align-items: center; justify-content: center; gap: 0.5rem;
            padding: 0.5rem; border-radius: 10px; cursor: pointer; transition: background 0.3s;
        }
        .engage-btn:hover { background: #f0f2f5; }
        .engage-btn.active { color: #0066cc; }

        .comments-section { margin-top: 1rem; }
        .comment { display: flex; gap: 0.5rem; margin: 0.5rem 0; }
        .comment-content {
            background: #f0f2f5; padding: 0.5rem 1rem; border-radius: 18px; flex: 1;
        }
        .comment-author { font-weight: 600; cursor: pointer; }
        .delete-comment {
            color: #999; cursor: pointer; font-size: 0.8rem; margin-left: 0.5rem;
        }
        .delete-comment:hover { color: #e41e3f; }

        /* Profile */
        .profile-page { background: white; border-radius: 16px; overflow: hidden; }
        .profile-cover { height: 200px; background: linear-gradient(135deg, #0066cc, #00aaff); position: relative; }
        .edit-cover { position: absolute; bottom: 1rem; right: 1rem; background: white; padding: 0.5rem; border-radius: 30px; cursor: pointer; }
        .profile-avatar-container { position: relative; width: fit-content; margin-top: -60px; margin-left: 2rem; }
        .profile-avatar {
            width: 120px; height: 120px; border-radius: 50%; border: 4px solid white; background: #f0f2f5;
            display: flex; align-items: center; justify-content: center; font-size: 3rem; cursor: pointer;
        }
        .edit-avatar {
            position: absolute; bottom: 10px; right: 10px; background: #0066cc; color: white;
            width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer;
        }
        .profile-info { padding: 1rem 2rem 2rem; }
        .profile-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; }
        .profile-name { font-size: 2rem; font-weight: 600; }
        .profile-title { color: #65676b; margin-bottom: 0.5rem; }
        .profile-bio { margin: 1rem 0; padding: 1rem; background: #f0f2f5; border-radius: 10px; }
        .profile-stats { display: flex; gap: 2rem; margin: 1rem 0; }
        .stat { text-align: center; cursor: pointer; }
        .stat-number { font-weight: 600; font-size: 1.2rem; }
        .stat-label { color: #65676b; font-size: 0.9rem; }
        .profile-tabs {
            display: flex; gap: 1rem; border-bottom: 1px solid #f0f2f5; margin: 1rem 0;
        }
        .profile-tab {
            padding: 0.5rem 1rem; cursor: pointer; position: relative;
        }
        .profile-tab.active { color: #0066cc; font-weight: 500; }
        .profile-tab.active::after {
            content: ''; position: absolute; bottom: -1px; left: 0; width: 100%; height: 2px; background: #0066cc;
        }
        .profile-section { display: none; padding: 1rem 0; }
        .profile-section.active { display: block; }
        .info-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; }
        .info-item { padding: 0.5rem; }
        .info-label { color: #65676b; font-size: 0.9rem; margin-bottom: 0.2rem; }
        .info-value { font-weight: 500; }
        .edit-info { color: #0066cc; cursor: pointer; margin-left: 1rem; font-size: 0.9rem; }

        .friends-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; }
        .friend-card {
            padding: 1rem; border: 1px solid #f0f2f5; border-radius: 10px; text-align: center; cursor: pointer;
        }
        .friend-card:hover { background: #f0f2f5; }
        .friend-avatar {
            width: 80px; height: 80px; border-radius: 50%; margin: 0 auto 1rem; background: #f0f2f5;
            display: flex; align-items: center; justify-content: center; font-size: 2rem;
        }
        .friend-name { font-weight: 500; margin-bottom: 0.2rem; }
        .friend-title { color: #65676b; font-size: 0.8rem; margin-bottom: 0.5rem; }
        .btn-follow, .btn-unfollow, .btn-add-friend, .btn-pending, .btn-friends {
            padding: 0.3rem 1rem; border-radius: 20px; font-size: 0.8rem; cursor: pointer; border: none;
        }
        .btn-follow { background: #0066cc; color: white; }
        .btn-unfollow { background: #f0f2f5; color: #65676b; }
        .btn-add-friend { background: #0066cc; color: white; }
        .btn-pending { background: #f0f2f5; color: #65676b; }
        .btn-friends { background: #00a86b; color: white; }

        .right-sidebar { position: sticky; top: 70px; height: fit-content; }
        .suggestion-item {
            display: flex; align-items: center; gap: 1rem; padding: 0.7rem 0;
            border-bottom: 1px solid #f0f2f5;
        }
        .online-item {
            display: flex; align-items: center; gap: 1rem; padding: 0.5rem 0; cursor: pointer;
        }
        .online-indicator {
            width: 10px; height: 10px; background: #31a24c; border-radius: 50%; position: relative;
        }
        .online-indicator::after {
            content: ''; position: absolute; width: 14px; height: 14px; border-radius: 50%;
            border: 2px solid white; top: -4px; left: -4px;
        }

        .notifications-panel, .messages-panel {
            position: absolute; top: 60px; right: 120px; background: white; border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2); width: 350px; max-height: 500px; overflow-y: auto;
            display: none; z-index: 1001;
        }
        .notifications-panel.active, .messages-panel.active { display: block; }
        .notification-item, .message-item {
            padding: 1rem; display: flex; gap: 1rem; border-bottom: 1px solid #f0f2f5; cursor: pointer;
        }
        .notification-item:hover, .message-item:hover { background: #f0f2f5; }
        .notification-item.unread { background: #e3f2fd; }

        @media (max-width: 1000px) {
            .main-container { grid-template-columns: 1fr; }
            .left-sidebar, .right-sidebar { display: none; }
        }
    </style>
</head>
<body>
    <!-- Auth Modal -->
    <div class="modal active" id="authModal">
        <div class="auth-container">
            <div class="auth-header"><h2>CephasGM Social</h2><p>Connect with colleagues</p></div>
            <div class="auth-tabs">
                <div class="auth-tab active" onclick="switchAuthTab('login')">Login</div>
                <div class="auth-tab" onclick="switchAuthTab('signup')">Create Account</div>
            </div>
            <div class="auth-form active" id="loginForm">
                <div class="form-group"><label>Work Email</label><input type="email" id="loginEmail" value="abc@cephasgm.com"></div>
                <div class="form-group"><label>Password</label><input type="password" id="loginPassword" value="123456"></div>
                <button class="btn-auth" onclick="login()">Log In</button>
                <div class="auth-footer"><span onclick="alert('Demo: reset link sent')">Forgot password?</span></div>
            </div>
            <div class="auth-form" id="signupForm">
                <div class="form-group"><label>Full Name</label><input type="text" id="signupName"></div>
                <div class="form-group"><label>Work Email</label><input type="email" id="signupEmail"></div>
                <div class="form-group"><label>Department</label><input type="text" id="signupDept"></div>
                <div class="form-group"><label>Job Title</label><input type="text" id="signupTitle"></div>
                <div class="form-group"><label>Password</label><input type="password" id="signupPassword"></div>
                <div class="form-group"><label>Confirm</label><input type="password" id="signupConfirm"></div>
                <button class="btn-auth" onclick="signup()">Create Account</button>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div class="app-container" id="appContainer">
        <!-- Top Nav -->
        <div class="top-nav">
            <div class="nav-left">
                <div class="logo" onclick="showFeed()">CephasGM Social</div>
                <div class="search-bar">
                    <span>üîç</span>
                    <input type="text" placeholder="Search employees..." id="searchInput" onkeyup="searchUsers()">
                    <div class="search-results" id="searchResults"></div>
                </div>
            </div>
            <div class="nav-middle">
                <div class="nav-icon active" onclick="showFeed()">üè†</div>
                <div class="nav-icon" onclick="showFriends()">üë•</div>
                <div class="nav-icon" onclick="showProfile()">üë§</div>
                <div class="nav-icon" id="notificationsIcon" onclick="toggleNotifications()">üîî<span class="badge" id="notificationBadge">3</span></div>
                <div class="nav-icon" id="messagesIcon" onclick="toggleMessages()">üí¨<span class="badge" id="messageBadge">2</span></div>
            </div>
            <div class="nav-right">
                <div class="profile-badge" onclick="toggleProfileDropdown()">
                    <div class="avatar" id="currentUserAvatar">CGM</div><span id="currentUserName">Cephas GM</span>
                </div>
                <div class="profile-dropdown" id="profileDropdown">
                    <div class="dropdown-item" onclick="viewMyProfile()">üë§ View Profile</div>
                    <div class="dropdown-item" onclick="showSettings()">‚öôÔ∏è Settings</div>
                    <div class="dropdown-item" onclick="showPrivacy()">üîí Privacy</div>
                    <div class="dropdown-item logout" onclick="logout()">üö™ Logout</div>
                </div>
            </div>
        </div>

        <!-- Notifications / Messages panels -->
        <div class="notifications-panel" id="notificationsPanel">
            <div style="padding:1rem; font-weight:600; border-bottom:1px solid #f0f2f5;">Notifications</div>
            <div class="notification-item unread"><div class="avatar">SW</div><div><strong>Sarah Wilson</strong> accepted request<div style="color:#65676b;">5min</div></div></div>
            <div class="notification-item unread"><div class="avatar">MK</div><div><strong>Mike</strong> commented<div style="color:#65676b;">1h</div></div></div>
            <div class="notification-item"><div class="avatar">EC</div><div><strong>Emily</strong> liked your post<div style="color:#65676b;">3h</div></div></div>
        </div>
        <div class="messages-panel" id="messagesPanel">
            <div style="padding:1rem; font-weight:600;">Messages</div>
            <div class="message-item"><div class="avatar">SW</div><div><strong>Sarah</strong><div class="message-preview">Q1 report?</div></div></div>
            <div class="message-item"><div class="avatar">MK</div><div><strong>Mike</strong><div class="message-preview">Thanks!</div></div></div>
        </div>

        <!-- Main content -->
        <div class="main-container" id="mainContent">
            <!-- Left sidebar -->
            <div class="left-sidebar">
                <div class="sidebar-card">
                    <div class="sidebar-item" onclick="viewMyProfile()"><div class="avatar" id="sidebarAvatar">JD</div><div><div>Cephas GM</div><div style="color:#65676b;">Software Developer</div></div></div>
                    <div class="sidebar-item" onclick="showFeed()"><div class="sidebar-icon">üì∞</div> News Feed</div>
                    <div class="sidebar-item" onclick="showFriends()"><div class="sidebar-icon">üë•</div> Friends <span class="badge-count">124</span></div>
                    <div class="sidebar-item" onclick="showGroups()"><div class="sidebar-icon">üë•</div> Groups <span class="badge-count">8</span></div>
                </div>
                <div class="sidebar-card">
                    <div style="display:flex; justify-content:space-between;"><span>Friend Requests</span><span style="color:#0066cc; cursor:pointer;" onclick="alert('show all')">See All</span></div>
                    <div class="friend-request-item" data-request="alex">
                        <div class="avatar">AL</div><div><div>Cephas GM</div><div style="font-size:0.7rem;">3 mutual</div></div>
                        <div class="friend-request-actions"><button class="btn-accept" onclick="acceptRequest(this)">‚úì</button><button class="btn-decline" onclick="declineRequest(this)">‚úó</button></div>
                    </div>
                    <div class="friend-request-item" data-request="maria">
                        <div class="avatar">MR</div><div><div>Maria R.</div><div style="font-size:0.7rem;">2 mutual</div></div>
                        <div class="friend-request-actions"><button class="btn-accept" onclick="acceptRequest(this)">‚úì</button><button class="btn-decline" onclick="declineRequest(this)">‚úó</button></div>
                    </div>
                </div>
            </div>

            <!-- Feed View (default) -->
            <div class="feed-container" id="feedView">
                <div class="stories-container">
                    <div class="stories-header"><span>Stories</span><span style="color:#0066cc; cursor:pointer;" onclick="alert('all stories')">See All</span></div>
                    <div class="stories-grid">
                        <div class="story-item" onclick="addStory()"><div class="story-ring" style="background:#0066cc;"><div class="story-avatar" style="background:#0066cc;">+</div></div><span>Add</span></div>
                        <div class="story-item" onclick="viewStory('Cephas')"><div class="story-ring"><div class="story-avatar">üë©‚Äçüíº</div></div><span>Sarah</span></div>
                        <div class="story-item" onclick="viewStory('Prince')"><div class="story-ring"><div class="story-avatar">üë®‚Äçüíª</div></div><span>Mike</span></div>
                    </div>
                </div>
                <!-- Create Post -->
                <div class="create-post">
                    <div class="avatar" id="postAvatar">JD</div>
                    <div class="post-input" onclick="openCreatePostModal()">What's on your mind?</div>
                </div>
                <div class="post-actions">
                    <div class="post-action" onclick="postPhoto()">üì∑ Photo</div>
                    <div class="post-action" onclick="postVideo()">üé• Video</div>
                    <div class="post-action" onclick="postFeeling()">üòä Feeling</div>
                </div>

                <!-- Dynamic posts container -->
                <div id="postsContainer">
                    <!-- posts will be injected via js -->
                </div>
            </div>

            <!-- Profile View -->
            <div class="feed-container" id="profileView" style="display:none;">
                <div class="profile-page">
                    <div class="profile-cover"><div class="edit-cover" onclick="editCover()">üì∑ Edit Cover</div></div>
                    <div class="profile-avatar-container">
                        <div class="profile-avatar" id="profileAvatar" onclick="changeProfilePhoto()">JD</div>
                        <div class="edit-avatar" onclick="changeProfilePhoto()">‚úèÔ∏è</div>
                    </div>
                    <div class="profile-info">
                        <div class="profile-header">
                            <div><div class="profile-name" id="profileName">Cephas GM</div><div class="profile-title" id="profileTitle">Inventory Control Secialist at MMS</div></div>
                            <div><button class="btn-follow" onclick="editProfile()">Edit Profile</button></div>
                        </div>
                        <div class="profile-bio" id="profileBio">Passionate developer. <span class="edit-info" onclick="editBio()">Edit</span></div>
                        <div class="profile-stats">
                            <div class="stat" onclick="showFriends()"><div class="stat-number">124</div><div>Friends</div></div>
                            <div class="stat"><div class="stat-number">89</div><div>Followers</div></div>
                            <div class="stat"><div class="stat-number">48</div><div>Posts</div></div>
                        </div>
                        <div class="profile-tabs">
                            <div class="profile-tab active" onclick="switchProfileTab('posts')">Posts</div>
                            <div class="profile-tab" onclick="switchProfileTab('about')">About</div>
                            <div class="profile-tab" onclick="switchProfileTab('friends')">Friends</div>
                        </div>
                        <div class="profile-section active" id="profilePosts"></div>
                        <div class="profile-section" id="profileAbout">
                            <div class="info-grid">
                                <div class="info-item"><div class="info-label">Work</div><div class="info-value">CephasGM <span class="edit-info" onclick="editWork()">Edit</span></div></div>
                                <div class="info-item"><div class="info-label">Education</div><div class="info-value">Stanford <span class="edit-info" onclick="editEducation()">Edit</span></div></div>
                                <div class="info-item"><div class="info-label">Location</div><div class="info-value">SF <span class="edit-info" onclick="editLocation()">Edit</span></div></div>
                                <div class="info-item"><div class="info-label">Skills</div><div class="info-value">JS, React <span class="edit-info" onclick="editSkills()">Edit</span></div></div>
                            </div>
                        </div>
                        <div class="profile-section" id="profileFriends"><div class="friends-grid" id="friendsGrid"></div></div>
                    </div>
                </div>
            </div>

            <!-- Friends View -->
            <div class="feed-container" id="friendsView" style="display:none;">
                <div style="padding:1rem;"><h2>Friends (124)</h2>
                <input type="text" placeholder="Search friends..." id="friendSearch" style="width:100%; padding:0.8rem; border-radius:30px; border:1px solid #ddd; margin:1rem 0;">
                <div class="friends-grid" id="allFriendsGrid"></div></div>
            </div>

            <!-- Right sidebar -->
            <div class="right-sidebar">
                <div class="sidebar-card">
                    <div style="display:flex; justify-content:space-between;"><span>Suggestions</span><span style="color:#0066cc;">See All</span></div>
                    <div class="suggestion-item"><div class="avatar">AT</div><div><div>Alex T.</div><div class="suggestion-mutual">5 mutual</div></div><button class="btn-add-friend" onclick="sendFriendRequest(this)">+</button></div>
                    <div class="suggestion-item"><div class="avatar">LW</div><div><div>Lisa W.</div><div class="suggestion-mutual">3 mutual</div></div><button class="btn-add-friend" onclick="sendFriendRequest(this)">+</button></div>
                </div>
                <div class="sidebar-card">
                    <span>Online Friends</span>
                    <div class="online-item" onclick="messageFriend('Sarah')"><div style="position:relative;"><div class="avatar">SW</div><div class="online-indicator"></div></div><div>Sarah</div></div>
                    <div class="online-item" onclick="messageFriend('Mike')"><div style="position:relative;"><div class="avatar">MK</div><div class="online-indicator"></div></div><div>Mike</div></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Hidden create post modal (simple prompt simulation) -->
    <script>
        (function() {
            // ---------- GLOBAL STATE ----------
            let currentUser = null;
            let posts = [
                { id: 'p1', author: 'Sarah Wilson', authorId: 'sarah', avatar: 'SW', time: '2h ago', content: 'Just finished Q1 strategy! Who is excited for offsite? üöÄ', likes: 12, liked: false, comments: [{ author:'John Doe', authorId:'john', text:'Can\'t wait!' }, { author:'Mike', authorId:'mike', text:'Great job!' }] },
                { id: 'p2', author: 'Mike Johnson', authorId: 'mike', avatar: 'MK', time: '5h ago', content: '5 years at CephasGM! üéâ', likes: 24, liked: true, comments: [] }
            ];
            let friendRequests = [
                { name: 'Alex Lee', mutual: 3, id: 'alex' },
                { name: 'Maria Rodriguez', mutual: 2, id: 'maria' }
            ];
            let friends = [
                { name:'Sarah Wilson', title:'PM', avatar:'SW', mutual:0, id:'sarah' },
                { name:'Mike Johnson', title:'UX', avatar:'MK', mutual:0, id:'mike' },
                { name:'Emily Chen', title:'Data', avatar:'EC', mutual:0, id:'emily' }
            ];
            let suggestions = [
                { name:'Alex Thompson', mutual:5, avatar:'AT' },
                { name:'Lisa Wang', mutual:3, avatar:'LW' }
            ];

            // ---------- AUTH ----------
            window.switchAuthTab = (tab) => {
                document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.auth-form').forEach(f => f.classList.remove('active'));
                if (tab === 'login') {
                    document.querySelector('.auth-tab').classList.add('active');
                    document.getElementById('loginForm').classList.add('active');
                } else {
                    document.querySelectorAll('.auth-tab')[1].classList.add('active');
                    document.getElementById('signupForm').classList.add('active');
                }
            };

            window.login = () => {
                const email = document.getElementById('loginEmail').value;
                if (email) {
                    currentUser = { name: 'Cephas GM', email, avatar: 'CGM', title: 'Software Developer', dept: 'Engineering' };
                    document.getElementById('authModal').classList.remove('active');
                    document.getElementById('appContainer').classList.add('logged-in');
                    updateUI();
                    renderAll();
                } else alert('Enter email');
            };

            window.signup = () => {
                const name = document.getElementById('signupName').value;
                if (name) {
                    currentUser = { name, avatar: name.split(' ').map(n=>n[0]).join(''), title: 'New Member', dept: '' };
                    document.getElementById('authModal').classList.remove('active');
                    document.getElementById('appContainer').classList.add('logged-in');
                    updateUI();
                    renderAll();
                } else alert('fill fields');
            };

            window.logout = () => {
                currentUser = null;
                document.getElementById('appContainer').classList.remove('logged-in');
                document.getElementById('authModal').classList.add('active');
                document.getElementById('profileDropdown').classList.remove('active');
            };

            function updateUI() {
                if (currentUser) {
                    document.getElementById('currentUserAvatar').textContent = currentUser.avatar;
                    document.getElementById('currentUserName').textContent = currentUser.name;
                    document.getElementById('sidebarAvatar').textContent = currentUser.avatar;
                    document.getElementById('profileAvatar').textContent = currentUser.avatar;
                    document.getElementById('profileName').textContent = currentUser.name;
                    document.getElementById('profileTitle').textContent = currentUser.title + (currentUser.dept ? ' at '+currentUser.dept : '');
                    document.getElementById('postAvatar').textContent = currentUser.avatar;
                }
            }

            // ---------- RENDER POSTS ----------
            function renderPosts(containerId = 'postsContainer') {
                let html = '';
                posts.forEach(p => {
                    let likeClass = p.liked ? 'active' : '';
                    let likeText = p.liked ? '‚ù§Ô∏è Liked' : '‚ù§Ô∏è Like';
                    let commentsHtml = p.comments.map(c => `<div class="comment"><div class="avatar" style="width:28px;">${c.authorId==='john'?currentUser?.avatar||'JD':c.avatar||'üë§'}</div><div class="comment-content"><span class="comment-author" onclick="viewProfile('${c.authorId}')">${c.author}</span> ${c.text} <span class="delete-comment" onclick="deleteComment('${p.id}', '${c.author}')">üóëÔ∏è</span></div></div>`).join('');
                    html += `<div class="post-card" id="post-${p.id}">
                        <div class="post-header"><div class="post-author-info" onclick="viewProfile('${p.authorId}')"><div class="avatar">${p.avatar}</div><div><div class="post-author">${p.author}</div><div class="post-time">${p.time}</div></div></div><div class="post-options" onclick="deletePost('${p.id}')">üóëÔ∏è</div></div>
                        <div class="post-content">${p.content}</div>
                        <div class="post-engagement">
                            <div class="engage-btn ${likeClass}" onclick="likePost(this, '${p.id}')">${likeText}</div>
                            <div class="engage-btn" onclick="commentOnPost('${p.id}')">üí¨ Comment</div>
                            <div class="engage-btn" onclick="sharePost('${p.id}')">‚ÜóÔ∏è Share</div>
                        </div>
                        <div class="comments-section" id="comments-${p.id}">${commentsHtml}</div>
                    </div>`;
                });
                document.getElementById(containerId).innerHTML = html;
            }

            window.likePost = (btn, postId) => {
                let post = posts.find(p => p.id === postId);
                if (post) { post.liked = !post.liked; renderPosts(); }
            };
            window.commentOnPost = (postId) => {
                let comment = prompt('Write a comment:');
                if (comment && currentUser) {
                    let post = posts.find(p => p.id === postId);
                    if (post) {
                        post.comments.push({ author: currentUser.name, authorId: 'john', text: comment });
                        renderPosts();
                    }
                }
            };
            window.deleteComment = (postId, author) => {
                let post = posts.find(p => p.id === postId);
                if (post && (author === currentUser?.name || author === 'John Doe')) {
                    post.comments = post.comments.filter(c => c.author !== author);
                    renderPosts();
                } else alert('You can only delete your own comments');
            };
            window.deletePost = (postId) => {
                let post = posts.find(p => p.id === postId);
                if (post && (post.author === currentUser?.name || post.authorId === 'john')) {
                    posts = posts.filter(p => p.id !== postId);
                    renderPosts();
                } else alert('Cannot delete this post');
            };
            window.sharePost = (id) => { alert('Post shared'); };

            // create post
            window.openCreatePostModal = () => {
                let content = prompt('Write your post:');
                if (content && currentUser) {
                    let newPost = {
                        id: 'p'+Date.now(),
                        author: currentUser.name,
                        authorId: 'john',
                        avatar: currentUser.avatar,
                        time: 'just now',
                        content: content,
                        likes: 0,
                        liked: false,
                        comments: []
                    };
                    posts.unshift(newPost);
                    renderPosts();
                }
            };

            // profile posts
            function renderProfilePosts() {
                let myPosts = posts.filter(p => p.authorId === 'john' || p.author === currentUser?.name);
                let html = myPosts.map(p => `<div class="post-card"><div class="post-content">${p.content}</div><div class="post-engagement"><div class="engage-btn">‚ù§Ô∏è ${p.likes}</div></div></div>`).join('');
                document.getElementById('profilePosts').innerHTML = html || '<p>No posts yet</p>';
            }

            // friends
            function renderFriends() {
                let fhtml = friends.map(f => `<div class="friend-card" onclick="viewProfile('${f.id}')"><div class="friend-avatar">${f.avatar}</div><div class="friend-name">${f.name}</div><div class="friend-title">${f.title}</div><button class="btn-friends" onclick="event.stopPropagation(); messageFriend('${f.name}')">Message</button></div>`).join('');
                document.getElementById('friendsGrid') && (document.getElementById('friendsGrid').innerHTML = fhtml);
                document.getElementById('allFriendsGrid') && (document.getElementById('allFriendsGrid').innerHTML = fhtml);
            }

            // requests
            window.acceptRequest = (btn) => {
                let item = btn.closest('.friend-request-item');
                if (item) { item.remove(); alert('Friend added'); }
            };
            window.declineRequest = (btn) => {
                let item = btn.closest('.friend-request-item');
                if (item) item.remove();
            };
            window.sendFriendRequest = (btn) => { btn.textContent = '‚úì Sent'; btn.disabled = true; };

            // ---------- NAV ----------
            window.showFeed = () => {
                document.getElementById('feedView').style.display = 'block';
                document.getElementById('profileView').style.display = 'none';
                document.getElementById('friendsView').style.display = 'none';
                document.querySelectorAll('.nav-icon').forEach(i => i.classList.remove('active'));
                document.querySelectorAll('.nav-icon')[0].classList.add('active');
                renderPosts();
            };
            window.showProfile = () => {
                document.getElementById('feedView').style.display = 'none';
                document.getElementById('profileView').style.display = 'block';
                document.getElementById('friendsView').style.display = 'none';
                document.querySelectorAll('.nav-icon').forEach(i => i.classList.remove('active'));
                document.querySelectorAll('.nav-icon')[2].classList.add('active');
                renderProfilePosts();
                renderFriends();
            };
            window.showFriends = () => {
                document.getElementById('feedView').style.display = 'none';
                document.getElementById('profileView').style.display = 'none';
                document.getElementById('friendsView').style.display = 'block';
                document.querySelectorAll('.nav-icon').forEach(i => i.classList.remove('active'));
                document.querySelectorAll('.nav-icon')[1].classList.add('active');
                renderFriends();
            };
            window.viewMyProfile = () => { showProfile(); document.getElementById('profileDropdown').classList.remove('active'); };
            window.viewProfile = (id) => { alert('View profile of '+id); };
            window.toggleNotifications = () => { document.getElementById('notificationsPanel').classList.toggle('active'); document.getElementById('messagesPanel').classList.remove('active'); };
            window.toggleMessages = () => { document.getElementById('messagesPanel').classList.toggle('active'); document.getElementById('notificationsPanel').classList.remove('active'); };
            window.toggleProfileDropdown = () => { document.getElementById('profileDropdown').classList.toggle('active'); };

            // edit profile
            window.editBio = () => { let newBio = prompt('Edit bio:', 'Passionate developer.'); if(newBio) document.getElementById('profileBio').innerHTML = newBio + ' <span class="edit-info" onclick="editBio()">Edit</span>'; };
            window.editWork = () => { alert('Edit work'); };
            window.editEducation = () => { alert('Edit education'); };
            window.editLocation = () => { alert('Edit location'); };
            window.editSkills = () => { alert('Edit skills'); };
            window.changeProfilePhoto = () => { alert('Change photo'); };
            window.editCover = () => { alert('Change cover'); };
            window.editProfile = () => { alert('Edit profile'); };
            window.switchProfileTab = (tab) => {
                document.querySelectorAll('.profile-tab').forEach(t=>t.classList.remove('active'));
                document.querySelectorAll('.profile-section').forEach(s=>s.classList.remove('active'));
                if(tab==='posts') { document.querySelectorAll('.profile-tab')[0].classList.add('active'); document.getElementById('profilePosts').classList.add('active'); renderProfilePosts(); }
                else if(tab==='about') { document.querySelectorAll('.profile-tab')[1].classList.add('active'); document.getElementById('profileAbout').classList.add('active'); }
                else if(tab==='friends') { document.querySelectorAll('.profile-tab')[2].classList.add('active'); document.getElementById('profileFriends').classList.add('active'); renderFriends(); }
            };

            // search
            window.searchUsers = () => {
                let q = document.getElementById('searchInput').value;
                let res = document.getElementById('searchResults');
                if (q.length < 2) { res.classList.remove('active'); return; }
                res.innerHTML = `<div class="search-result-item" onclick="viewProfile('sarah')"><div class="avatar">SW</div><div>Sarah Wilson</div></div><div class="search-result-item" onclick="viewProfile('mike')"><div class="avatar">MK</div><div>Mike Johnson</div></div>`;
                res.classList.add('active');
            };
            document.addEventListener('click', (e) => { if (!e.target.closest('.search-bar')) document.getElementById('searchResults').classList.remove('active'); });

            // misc
            window.postPhoto = () => alert('Post photo');
            window.postVideo = () => alert('Post video');
            window.postFeeling = () => alert('Feeling');
            window.addStory = () => alert('Add story');
            window.viewStory = (u) => alert(u+'\'s story');
            window.messageFriend = (n) => alert('Chat with '+n);
            window.showGroups = () => alert('Groups');
            window.showSettings = () => alert('Settings');
            window.showPrivacy = () => alert('Privacy');

            function renderAll() {
                renderPosts();
                renderFriends();
                renderProfilePosts();
            }

            // initial demo data (will be overwritten after login)
            window.showFeed();
        })();
    </script>
</body>
</html>
