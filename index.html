<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=yes" />
  
  <!-- PWA Meta Tags -->
  <meta name="theme-color" content="#2563eb" id="theme-color-meta" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="CephasGM ERP">
  
  <title>CephasGM ERP ‚Äî Global Command Center</title>

  <!-- SEO / Social -->
  <meta name="description" content="CephasGM ERP ‚Äî Multi-national Enterprise Resource Planning Command Center" />
  <meta name="keywords" content="ERP, Global, Finance, HR, Inventory, Projects, PWA, Multi-national, CephasGM" />
  <meta name="author" content="Cephas Gideon Mkama" />
  
  <!-- Open Graph -->
  <meta property="og:title" content="CephasGM ERP Global Command Center" />
  <meta property="og:description" content="Complete Enterprise Resource Planning for Multi-national Operations" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://cephasgm.github.io/CephasGM-ERP/" />
  <meta property="og:image" content="https://cephasgm.github.io/CephasGM-ERP/og-image.png" />
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json" />

  <!-- Icons -->
  <link rel="icon" type="image/png" href="icon-192.png" />
  <link rel="apple-touch-icon" href="icon-192.png" />

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

  <style>
    /* ===== RESET & VARIABLES ===== */
    :root {
      --bg: #f0f2f5;
      --card: #ffffff;
      --text: #0a1e3c;
      --text-secondary: #2c3e50;
      --muted: #5e6f8d;
      --primary: #1a4c7a;
      --primary-600: #0e3a5c;
      --primary-light: #e0eefb;
      --success: #0f7b5a;
      --warning: #e6a017;
      --danger: #c0392b;
      --info: #3498db;
      --radius: 12px;
      --radius-sm: 8px;
      --gap: 1.5rem;
      --shadow: 0 4px 12px rgba(0, 20, 40, 0.08);
      --shadow-lg: 0 12px 28px rgba(0, 0, 0, 0.12);
      --max-width: 1600px;
      --nav-height: 70px;
      --border-color: #e2e8f0;
    }

    /* Dark mode */
    :root[data-theme='dark'] {
      --bg: #0a1a2b;
      --card: #122b44;
      --text: #edf2f9;
      --text-secondary: #cbd5e1;
      --muted: #94a3b8;
      --primary: #3b82f6;
      --primary-light: #1e3a5f;
      --border-color: #1e3a5f;
      --shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
    }
    
    /* High Contrast Mode */
    :root[data-theme='high-contrast'] {
      --bg: #000000;
      --card: #1a1a1a;
      --text: #ffffff;
      --text-secondary: #ffff99;
      --muted: #ffcc00;
      --primary: #ffff00;
      --primary-600: #ffaa00;
      --primary-light: #333300;
      --success: #00ff00;
      --warning: #ffaa00;
      --danger: #ff5555;
      --info: #88ccff;
      --border-color: #ffff00;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.5;
      font-size: 14px;
      transition: background 0.2s, color 0.2s;
    }

    .app-wrapper {
      max-width: var(--max-width);
      margin: 0 auto;
      padding: 1rem 2rem;
    }

    /* Header */
    .command-header {
      background: var(--card);
      border-radius: var(--radius);
      padding: 1rem 1.8rem;
      margin-bottom: 2rem;
      box-shadow: var(--shadow);
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      gap: 1.5rem;
      border: 1px solid var(--border-color);
    }
    .corporate-area {
      display: flex;
      align-items: center;
      gap: 1.5rem;
    }
    .logo-container {
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    .corporate-logo {
      width: 50px; height: 50px;
      background: linear-gradient(135deg, var(--primary), #2c3e50);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.8rem;
      font-weight: 700;
      text-decoration: none;
    }
    .logo-text h2 { 
      font-size: 1.4rem; 
      font-weight: 700; 
      color: var(--text);
      background: linear-gradient(135deg, var(--primary), #2c3e50);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    /* Timezone Selector */
    .timezone-selector {
      background: var(--primary-light);
      padding: 0.4rem 1rem;
      border-radius: 30px;
      font-size: 0.85rem;
      font-weight: 500;
      color: var(--primary);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .timezone-selector select {
      background: transparent;
      border: none;
      color: var(--primary);
      font-weight: 500;
      font-size: 0.85rem;
      cursor: pointer;
      outline: none;
    }
    .language-selector select {
      background: transparent;
      border: 1px solid var(--border-color);
      padding: 0.4rem 1.5rem 0.4rem 0.8rem;
      border-radius: 20px;
      font-weight: 500;
      color: var(--text);
      cursor: pointer;
    }

    /* Global Search */
    .search-quick-row {
      display: flex;
      gap: 1rem;
      margin-bottom: 2rem;
      flex-wrap: wrap;
    }
    .global-search {
      flex: 1;
      min-width: 280px;
      background: var(--card);
      border-radius: 50px;
      padding: 0.2rem 0.2rem 0.2rem 1.5rem;
      display: flex;
      align-items: center;
      border: 1px solid var(--border-color);
      box-shadow: var(--shadow);
    }
    .global-search i { color: var(--muted); }
    .global-search input {
      flex: 1;
      padding: 0.8rem 0.5rem;
      border: none;
      background: transparent;
      font-size: 0.95rem;
      outline: none;
      color: var(--text);
    }
    .global-search button {
      background: var(--primary);
      border: none;
      color: white;
      padding: 0.6rem 1.8rem;
      border-radius: 50px;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s;
    }
    .global-search button:hover {
      background: var(--primary-600);
    }

    /* KPI Grid */
    .kpi-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }
    .kpi-card {
      background: var(--card);
      border-radius: var(--radius);
      padding: 1.2rem;
      box-shadow: var(--shadow);
      border: 1px solid var(--border-color);
      transition: transform 0.2s, box-shadow 0.2s;
      cursor: pointer;
      text-decoration: none;
      color: inherit;
      display: block;
    }
    .kpi-card:hover { transform: translateY(-3px); box-shadow: var(--shadow-lg); }
    .kpi-header { display: flex; justify-content: space-between; margin-bottom: 0.8rem; color: var(--muted); font-size: 0.85rem; }
    .kpi-value { font-size: 1.9rem; font-weight: 700; line-height: 1.2; margin-bottom: 0.3rem; }
    .kpi-trend { font-size: 0.8rem; color: var(--success); }
    .kpi-footer { font-size: 0.8rem; color: var(--muted); border-top: 1px solid var(--border-color); margin-top: 0.8rem; padding-top: 0.5rem; }
    .badge-new { background: var(--warning); color: black; padding: 0.2rem 0.5rem; border-radius: 20px; font-size: 0.7rem; font-weight: 600; }

    /* Modules Section */
    .modules-section {
      margin-bottom: 2rem;
    }
    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 2rem 0 1rem;
    }
    .section-header h2 { 
      font-size: 1.3rem; 
      font-weight: 600;
      color: var(--primary);
    }
    .view-toggle { display: flex; gap: 0.4rem; }
    .view-btn {
      background: var(--card);
      border: 1px solid var(--border-color);
      border-radius: 20px;
      padding: 0.3rem 0.8rem;
      cursor: pointer;
      color: var(--text);
    }
    .view-btn.active {
      background: var(--primary);
      color: white;
      border-color: var(--primary);
    }

    .modules-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
      gap: 1rem;
    }
    .modules-grid.list-view {
      grid-template-columns: 1fr;
    }
    .modules-grid.list-view .module-card {
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    .modules-grid.list-view .module-icon {
      margin-bottom: 0;
    }
    .module-card {
      background: var(--card);
      border-radius: var(--radius);
      padding: 1.2rem;
      text-decoration: none;
      color: inherit;
      border: 1px solid var(--border-color);
      transition: 0.2s;
      position: relative;
    }
    .module-card:hover { 
      border-color: var(--primary); 
      box-shadow: var(--shadow);
      transform: translateY(-2px);
    }
    .module-icon { font-size: 2rem; margin-bottom: 0.8rem; }
    .module-title { 
      font-weight: 600; 
      font-size: 1rem; 
      margin-bottom: 0.3rem;
      color: var(--primary);
    }
    .module-description { 
      font-size: 0.8rem; 
      color: var(--muted);
      margin-bottom: 0.5rem;
    }
    .module-badge { 
      position: absolute; 
      top: 1rem; 
      right: 1rem; 
      background: var(--warning); 
      padding: 0.2rem 0.5rem; 
      border-radius: 20px; 
      font-size: 0.7rem; 
      font-weight: 600;
    }

    /* Footer */
    .global-footer {
      margin-top: 3rem;
      padding: 2rem 0 1rem;
      border-top: 1px solid var(--border-color);
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      font-size: 0.8rem;
      color: var(--muted);
    }
    .version-tag {
      background: var(--primary-light);
      padding: 0.2rem 0.6rem;
      border-radius: 20px;
    }
    .theme-compact-row {
      display: flex;
      gap: 0.8rem;
      align-items: center;
    }
    .icon-btn {
      background: transparent;
      border: 1px solid var(--border-color);
      width: 38px; height: 38px;
      border-radius: 50%;
      cursor: pointer;
      color: var(--text);
    }

    /* Responsive */
    @media (max-width: 1200px) {
      .content-pane { flex-direction: column; }
    }
    @media (max-width: 800px) {
      .command-header { flex-direction: column; align-items: stretch; }
    }
  </style>
</head>
<body>
  <div class="app-wrapper">
    <!-- Header -->
    <header class="command-header">
      <div class="corporate-area">
        <div class="logo-container">
          <div class="corporate-logo">‚ö°</div>
          <div class="logo-text">
            <h2>CephasGM ERP</h2>
          </div>
        </div>
        
        <!-- Universal Timezone Selector -->
        <div class="timezone-selector">
          <i class="fas fa-globe"></i>
          <select id="timezoneSelect" onchange="updateSelectedTimezone()">
            <option value="America/New_York">New York (EST/EDT)</option>
            <option value="America/Chicago">Chicago (CST/CDT)</option>
            <option value="America/Denver">Denver (MST/MDT)</option>
            <option value="America/Los_Angeles">Los Angeles (PST/PDT)</option>
            <option value="Europe/London">London (GMT/BST)</option>
            <option value="Europe/Paris">Paris (CET/CEST)</option>
            <option value="Europe/Berlin">Berlin (CET/CEST)</option>
            <option value="Europe/Moscow">Moscow (MSK)</option>
            <option value="Asia/Dubai">Dubai (GST)</option>
            <option value="Asia/Kolkata">India (IST)</option>
            <option value="Asia/Shanghai">Shanghai (CST)</option>
            <option value="Asia/Tokyo">Tokyo (JST)</option>
            <option value="Australia/Sydney">Sydney (AEDT/AEST)</option>
            <option value="Africa/Nairobi">Nairobi (EAT)</option>
            <option value="Africa/Johannesburg">Johannesburg (SAST)</option>
            <option value="Africa/Lagos">Lagos (WAT)</option>
          </select>
          <span id="currentTimeDisplay"></span>
        </div>

        <div class="language-selector">
          <select id="languageSelect">
            <option value="en">English</option>
            <option value="zh">‰∏≠Êñá</option>
            <option value="ja">Êó•Êú¨Ë™û</option>
            <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
            <option value="de">Deutsch</option>
            <option value="es">Espa√±ol</option>
            <option value="fr">Fran√ßais</option>
            <option value="pt">Portugu√™s</option>
            <option value="ru">–†—É—Å—Å–∫–∏–π</option>
          </select>
        </div>
      </div>
    </header>

    <!-- Global Search -->
    <div class="search-quick-row">
      <div class="global-search">
        <i class="fas fa-search"></i>
        <input type="text" id="globalSearchInput" placeholder="üîç Search across 31 modules, transactions, customers..." data-i18n-placeholder="searchPlaceholder">
        <button onclick="performSearch()" id="searchButton"><i class="fas fa-arrow-right"></i></button>
      </div>
    </div>

    <!-- EXECUTIVE DASHBOARD KPI GRID -->
    <div class="kpi-grid">
      <a href="finance.html" class="kpi-card"><div class="kpi-header"><span data-i18n="kpiGlobalRevenue">Global Revenue (USD)</span> <i class="fas fa-chart-line"></i></div><div class="kpi-value">$247.8M</div><div class="kpi-trend">+12.3% vs LY</div><div class="kpi-footer" data-i18n="kpiRevenueFooter">Africa 98M ¬∑ EU 89M ¬∑ Am 60.8M</div></a>
      <a href="hr.html" class="kpi-card"><div class="kpi-header"><span data-i18n="kpiHeadcount">Global Headcount</span> <i class="fas fa-users"></i></div><div class="kpi-value">3,842</div><div class="kpi-trend">128 online now</div><div class="kpi-footer" data-i18n="kpiHeadcountFooter">+22 this month</div></a>
      <a href="projects.html" class="kpi-card"><div class="kpi-header"><span data-i18n="kpiActiveProjects">Active Projects</span> <i class="fas fa-rocket"></i></div><div class="kpi-value">47</div><div class="kpi-trend"><span style="color:#2ecc71;">‚óè 33 On Track</span> <span style="color:#f39c12;">‚óè 14 At Risk</span></div><div class="kpi-footer" data-i18n="kpiProjectsFooter">6 new this quarter</div></a>
      <a href="procurement.html" class="kpi-card"><div class="kpi-header"><span data-i18n="kpiOpenPO">Open PO Value</span> <i class="fas fa-shopping-cart"></i></div><div class="kpi-value">$34.2M</div><div class="kpi-footer">2,134 POs</div></a>
      <a href="inventory.html" class="kpi-card"><div class="kpi-header"><span data-i18n="kpiInventory">Inventory Value</span> <i class="fas fa-boxes"></i></div><div class="kpi-value">$112.5M</div><div class="kpi-trend">-2% vs target</div></a>
      <a href="finance.html" class="kpi-card"><div class="kpi-header"><span data-i18n="kpiCashBalance">Cash Balance</span> <i class="fas fa-coins"></i></div><div class="kpi-value">$89.3M</div><div class="kpi-footer">45 bank accounts</div></a>
      <a href="finance.html" class="kpi-card"><div class="kpi-header"><span data-i18n="kpiDSO">DSO (Days)</span> <i class="fas fa-clock"></i></div><div class="kpi-value">43.2</div><div class="kpi-trend">‚ñº 2.1 from last Q</div></a>
      <a href="customer-service.html" class="kpi-card"><div class="kpi-header"><span data-i18n="kpiTickets">Pending Tickets</span> <i class="fas fa-headset"></i></div><div class="kpi-value">128</div><div class="kpi-trend"><span class="priority-high">‚óè 12 high</span></div></a>
      <a href="admin.html" class="kpi-card"><div class="kpi-header"><span data-i18n="kpiUptime">System Uptime</span> <i class="fas fa-server"></i></div><div class="kpi-value">99.94%</div><div class="kpi-footer">Americas 99.99%</div></a>
      <a href="admin.html" class="kpi-card"><div class="kpi-header"><span data-i18n="kpiApprovals">Pending Approvals</span> <i class="fas fa-check-double"></i></div><div class="kpi-value">234</div><div class="kpi-footer">56 require you</div></a>
      <a href="admin.html" class="kpi-card"><div class="kpi-header"><span data-i18n="kpiStorage">Data Storage</span> <i class="fas fa-database"></i></div><div class="kpi-value">78%</div><div class="kpi-footer">used of 50 TB</div></a>
      <a href="#" class="kpi-card" onclick="event.preventDefault(); alert('ESG Score details'); return false;"><div class="kpi-header"><span data-i18n="kpiESG">ESG Score</span> <i class="fas fa-seedling"></i></div><div class="kpi-value">86</div><div class="kpi-trend">A- rating</div><div class="kpi-footer">+4 pts</div></a>
    </div>

    <!-- ALL MODULES SECTION - Well Arranged -->
    <div class="modules-section">
      <div class="section-header">
        <h2><i class="fas fa-cubes"></i> <span data-i18n="allModules">All Business Modules</span> <span style="font-size:0.8rem; margin-left:1rem;">(31 modules)</span></h2>
        <div class="view-toggle">
          <button class="view-btn active" id="gridViewBtn"><i class="fas fa-th"></i></button>
          <button class="view-btn" id="listViewBtn"><i class="fas fa-list"></i></button>
        </div>
      </div>

      <!-- Modules Grid - All 31 modules well arranged -->
      <div class="modules-grid" id="modulesGrid">
        <!-- Financial & Operations -->
        <a href="finance.html" class="module-card"><span class="module-badge">Core</span><div class="module-icon">üìä</div><div class="module-title">Finance</div><div class="module-description">Accounting, budgeting, cash flow</div></a>
        <a href="sales.html" class="module-card"><span class="module-badge">Core</span><div class="module-icon">üí∞</div><div class="module-title">Sales</div><div class="module-description">Leads, revenue, forecasting</div></a>
        <a href="procurement.html" class="module-card"><span class="module-badge">Core</span><div class="module-icon">üõí</div><div class="module-title">Procurement</div><div class="module-description">POs, suppliers, sourcing</div></a>
        <a href="inventory.html" class="module-card"><span class="module-badge">Core</span><div class="module-icon">üì¶</div><div class="module-title">Inventory</div><div class="module-description">Stock, warehouse, valuation</div></a>
        
        <!-- Industry Specific - NEW -->
        <a href="payments-banking.html" class="module-card"><span class="module-badge">CephasPay‚Ñ¢</span><div class="module-icon">üí≥</div><div class="module-title">CephasPay‚Ñ¢</div><div class="module-description">Mobile money, banking, reconciliation</div></a>
        <a href="construction.html" class="module-card"><span class="module-badge">CephasBuild‚Ñ¢</span><div class="module-icon">üèóÔ∏è</div><div class="module-title">CephasBuild‚Ñ¢</div><div class="module-description">Construction, BOQs, site safety</div></a>
        <a href="real-estate.html" class="module-card"><span class="module-badge">CephasEstate‚Ñ¢</span><div class="module-icon">üè¢</div><div class="module-title">CephasEstate‚Ñ¢</div><div class="module-description">Property management, leases, tenants</div></a>
        
        <!-- Heavy Industry -->
        <a href="manufacturing.html" class="module-card"><span class="module-badge">Industry</span><div class="module-icon">üè≠</div><div class="module-title">Manufacturing</div><div class="module-description">Production, BOM, quality control</div></a>
        <a href="mining.html" class="module-card"><span class="module-badge">Industry</span><div class="module-icon">‚õèÔ∏è</div><div class="module-title">Mining</div><div class="module-description">Operations, extraction, compliance</div></a>
        <a href="oil-gas.html" class="module-card"><span class="module-badge">Industry</span><div class="module-icon">üõ¢Ô∏è</div><div class="module-title">Oil & Gas</div><div class="module-description">Upstream, downstream, pipelines</div></a>
        <a href="agriculture.html" class="module-card"><span class="module-badge">Industry</span><div class="module-icon">üåæ</div><div class="module-title">Agriculture</div><div class="module-description">Farm management, crops, livestock</div></a>
        
        <!-- Operations & Logistics -->
        <a href="transport.html" class="module-card"><div class="module-icon">üöö</div><div class="module-title">Transport</div><div class="module-description">Logistics, fleet, deliveries</div></a>
        <a href="asset-operations.html" class="module-card"><span class="module-badge">Asset</span><div class="module-icon">üè¢</div><div class="module-title">Asset Operations</div><div class="module-description">Facilities, fleet, maintenance</div></a>
        <a href="projects.html" class="module-card"><div class="module-icon">üìã</div><div class="module-title">Projects</div><div class="module-description">Timelines, resources, milestones</div></a>
        
        <!-- HR & People -->
        <a href="hr.html" class="module-card"><div class="module-icon">üë•</div><div class="module-title">Human Resources</div><div class="module-description">Employees, recruitment, perf.</div></a>
        <a href="payroll.html" class="module-card"><div class="module-icon">üíµ</div><div class="module-title">Payroll</div><div class="module-description">Salaries, deductions, compliance</div></a>
        <a href="attendance.html" class="module-card"><div class="module-icon">üìÖ</div><div class="module-title">Attendance</div><div class="module-description">Time, leaves, tracking</div></a>
        <a href="employee-portal.html" class="module-card"><span class="module-badge">Self-Service</span><div class="module-icon">üë§</div><div class="module-title">Employee Portal</div><div class="module-description">Self-service, benefits, time-off</div></a>
        <a href="training.html" class="module-card"><div class="module-icon">üéì</div><div class="module-title">Training</div><div class="module-description">Skills, certifications</div></a>
        <a href="time-billing.html" class="module-card"><span class="module-badge">Services</span><div class="module-icon">‚è±Ô∏è</div><div class="module-title">Time & Billing</div><div class="module-description">Timesheets, professional services</div></a>
        
        <!-- Customer & Engagement -->
        <a href="customer-service.html" class="module-card"><span class="module-badge">24/7</span><div class="module-icon">ü§ù</div><div class="module-title">Customer Service</div><div class="module-description">Tickets, support, quality</div></a>
        <a href="marketing.html" class="module-card"><div class="module-icon">üì¢</div><div class="module-title">Marketing</div><div class="module-description">Campaigns, analytics, brand</div></a>
        <a href="company-connect.html" class="module-card"><span class="module-badge">Social</span><div class="module-icon">ü§ù</div><div class="module-title">Company Connect</div><div class="module-description">Social hub, employee engagement</div></a>
        <a href="community.html" class="module-card"><div class="module-icon">üåê</div><div class="module-title">Community</div><div class="module-description">Internal comms, engagement</div></a>
        <a href="memberships.html" class="module-card"><span class="module-badge">Subscriptions</span><div class="module-icon">üé´</div><div class="module-title">Memberships</div><div class="module-description">Subscriptions, renewals, benefits</div></a>
        
        <!-- Governance & Compliance -->
        <a href="legal.html" class="module-card"><div class="module-icon">‚öñÔ∏è</div><div class="module-title">Legal</div><div class="module-description">Contracts, compliance, documents</div></a>
        <a href="safety.html" class="module-card"><div class="module-icon">üõ°Ô∏è</div><div class="module-title">Safety</div><div class="module-description">Incidents, compliance, training</div></a>
        <a href="quality.html" class="module-card"><span class="module-badge">Executive</span><div class="module-icon">‚ú®</div><div class="module-title">Quality & Innovation</div><div class="module-description">Continuous improvement, excellence</div></a>
        
        <!-- Admin & Meetings -->
        <a href="admin.html" class="module-card"><span class="module-badge">Admin</span><div class="module-icon">‚öôÔ∏è</div><div class="module-title">System Admin</div><div class="module-description">Config, users, controls</div></a>
        <a href="meetings.html" class="module-card"><div class="module-icon">üë•</div><div class="module-title">Meetings</div><div class="module-description">Schedule, agendas, minutes</div></a>
      </div>
    </div>

    <!-- FOOTER -->
    <footer class="global-footer">
      <div>¬© 2026 CephasGM ERP. All rights reserved. <span class="version-tag">v3.14.2 ¬∑ Build 2026.02.22 ¬∑ PROD</span></div>
      <div class="theme-compact-row">
        <button class="icon-btn" id="themeToggle" title="Toggle theme">üåì</button>
        <button class="icon-btn" id="compactViewToggle" title="Toggle compact view">üóúÔ∏è</button>
      </div>
    </footer>
  </div>

  <script>
    // ========== UNIVERSAL TIMEZONE FUNCTION ==========
    let selectedTimezone = localStorage.getItem('selectedTimezone') || 'Africa/Nairobi';
    const timezoneSelect = document.getElementById('timezoneSelect');
    const currentTimeDisplay = document.getElementById('currentTimeDisplay');
    
    timezoneSelect.value = selectedTimezone;
    
    function updateSelectedTimezone() {
      selectedTimezone = timezoneSelect.value;
      localStorage.setItem('selectedTimezone', selectedTimezone);
      updateCurrentTime();
    }
    
    function updateCurrentTime() {
      if (!selectedTimezone) return;
      
      const now = new Date();
      const options = {
        timeZone: selectedTimezone,
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit',
        hour12: true,
        weekday: 'short',
        month: 'short',
        day: 'numeric'
      };
      
      try {
        const formatter = new Intl.DateTimeFormat('en-US', options);
        const timeString = formatter.format(now);
        currentTimeDisplay.textContent = ` | ${timeString}`;
      } catch (e) {
        currentTimeDisplay.textContent = ' | Invalid timezone';
      }
    }
    
    updateCurrentTime();
    setInterval(updateCurrentTime, 1000);

    // ========== SEARCH FUNCTIONALITY ==========
    window.performSearch = function() {
      const searchInput = document.getElementById('globalSearchInput');
      const searchTerm = searchInput.value.trim();
      
      if (searchTerm) {
        alert(`Searching for: "${searchTerm}" across 31 modules`);
      } else {
        alert('Please enter a search term');
      }
    };

    document.getElementById('globalSearchInput').addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        performSearch();
      }
    });

    // ========== GRID/LIST VIEW TOGGLE ==========
    const modulesGrid = document.getElementById('modulesGrid');
    const gridViewBtn = document.getElementById('gridViewBtn');
    const listViewBtn = document.getElementById('listViewBtn');
    
    gridViewBtn.addEventListener('click', () => {
      modulesGrid.classList.remove('list-view');
      gridViewBtn.classList.add('active');
      listViewBtn.classList.remove('active');
    });
    
    listViewBtn.addEventListener('click', () => {
      modulesGrid.classList.add('list-view');
      listViewBtn.classList.add('active');
      gridViewBtn.classList.remove('active');
    });

    // ========== LANGUAGE TRANSLATIONS ==========
    const translations = {
      en: {
        searchPlaceholder: "Search across 31 modules, transactions, customers...",
        kpiGlobalRevenue: "Global Revenue (USD)",
        kpiRevenueFooter: "Africa 98M ¬∑ EU 89M ¬∑ Am 60.8M",
        kpiHeadcount: "Global Headcount",
        kpiHeadcountFooter: "+22 this month",
        kpiActiveProjects: "Active Projects",
        kpiProjectsFooter: "6 new this quarter",
        kpiOpenPO: "Open PO Value",
        kpiInventory: "Inventory Value",
        kpiCashBalance: "Cash Balance",
        kpiDSO: "DSO (Days)",
        kpiTickets: "Pending Tickets",
        kpiUptime: "System Uptime",
        kpiApprovals: "Pending Approvals",
        kpiStorage: "Data Storage",
        kpiESG: "ESG Score",
        allModules: "All Business Modules"
      },
      zh: {
        searchPlaceholder: "ÊêúÁ¥¢31‰∏™Ê®°Âùó„ÄÅ‰∫§Êòì„ÄÅÂÆ¢Êà∑...",
        kpiGlobalRevenue: "ÂÖ®ÁêÉÊî∂ÂÖ• (ÁæéÂÖÉ)",
        kpiRevenueFooter: "ÈùûÊ¥≤98M ¬∑ Ê¨ßÁõü89M ¬∑ ÁæéÊ¥≤60.8M",
        kpiHeadcount: "ÂÖ®ÁêÉÂëòÂ∑•Êï∞",
        kpiHeadcountFooter: "Êú¨Êúà+22",
        kpiActiveProjects: "Ê¥ªË∑ÉÈ°πÁõÆ",
        kpiProjectsFooter: "Êú¨Â≠£Â∫¶Êñ∞Â¢û6‰∏™",
        kpiOpenPO: "Êú™ÁªìÈááË¥≠ËÆ¢Âçï‰ª∑ÂÄº",
        kpiInventory: "Â∫ìÂ≠ò‰ª∑ÂÄº",
        kpiCashBalance: "Áé∞Èáë‰ΩôÈ¢ù",
        kpiDSO: "ÈîÄÂîÆÊú™Ê∏ÖË¥¶Êúü",
        kpiTickets: "ÂæÖÂ§ÑÁêÜÂ∑•Âçï",
        kpiUptime: "Á≥ªÁªüÊ≠£Â∏∏ËøêË°åÊó∂Èó¥",
        kpiApprovals: "ÂæÖÂÆ°Êâπ",
        kpiStorage: "Êï∞ÊçÆÂ≠òÂÇ®",
        kpiESG: "ESGËØÑÂàÜ",
        allModules: "ÊâÄÊúâ‰∏öÂä°Ê®°Âùó"
      },
      ja: {
        searchPlaceholder: "31„ÅÆ„É¢„Ç∏„É•„Éº„É´„ÄÅÂèñÂºï„ÄÅÈ°ßÂÆ¢„ÇíÊ§úÁ¥¢...",
        kpiGlobalRevenue: "„Ç∞„É≠„Éº„Éê„É´ÂèéÁõä (USD)",
        kpiRevenueFooter: "„Ç¢„Éï„É™„Ç´98M ¬∑ EU89M ¬∑ Á±≥Â∑û60.8M",
        kpiHeadcount: "ÂæìÊ•≠Âì°Êï∞",
        kpiHeadcountFooter: "‰ªäÊúà+22",
        kpiActiveProjects: "ÈÄ≤Ë°å‰∏≠„Éó„É≠„Ç∏„Çß„ÇØ„Éà",
        kpiProjectsFooter: "‰ªäÂõõÂçäÊúü6‰ª∂Êñ∞Ë¶è",
        kpiOpenPO: "Êú™Âá¶ÁêÜÁô∫Ê≥®ÈáëÈ°ç",
        kpiInventory: "Âú®Â∫´ÈáëÈ°ç",
        kpiCashBalance: "ÁèæÈáëÊÆãÈ´ò",
        kpiDSO: "Â£≤‰∏äÊú™ÂèéÂÖ•ÈáëÊó•Êï∞",
        kpiTickets: "‰øùÁïô‰∏≠„ÅÆ„ÉÅ„Ç±„ÉÉ„Éà",
        kpiUptime: "„Ç∑„Çπ„ÉÜ„É†Á®ºÂÉçÁéá",
        kpiApprovals: "‰øùÁïô‰∏≠„ÅÆÊâøË™ç",
        kpiStorage: "„Éá„Éº„Çø‰ΩøÁî®Èáè",
        kpiESG: "ESG„Çπ„Ç≥„Ç¢",
        allModules: "ÂÖ®„Éì„Ç∏„Éç„Çπ„É¢„Ç∏„É•„Éº„É´"
      }
      // Additional languages would be included here
    };

    function changeLanguage(lang) {
      const elements = document.querySelectorAll('[data-i18n]');
      elements.forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
          if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
            el.placeholder = translations[lang][key];
          } else {
            el.textContent = translations[lang][key];
          }
        }
      });
      
      const searchInput = document.getElementById('globalSearchInput');
      if (searchInput && translations[lang] && translations[lang].searchPlaceholder) {
        searchInput.placeholder = translations[lang].searchPlaceholder;
      }
      
      localStorage.setItem('preferred-language', lang);
    }

    document.getElementById('languageSelect').addEventListener('change', (e) => {
      changeLanguage(e.target.value);
    });

    const savedLang = localStorage.getItem('preferred-language') || 'en';
    document.getElementById('languageSelect').value = savedLang;
    changeLanguage(savedLang);

    // ========== THEME TOGGLE ==========
    const root = document.documentElement;
    const themeBtn = document.getElementById('themeToggle');
    
    function updateThemeButton() {
      const current = root.getAttribute('data-theme') || 'light';
      themeBtn.textContent = current === 'light' ? 'üåì' : (current === 'dark' ? '‚òÄÔ∏è' : 'üîÜ');
    }
    
    themeBtn.addEventListener('click', () => {
      let current = root.getAttribute('data-theme') || 'light';
      let next = current === 'light' ? 'dark' : (current === 'dark' ? 'light' : 'light');
      root.setAttribute('data-theme', next);
      localStorage.setItem('cephasgm-theme', next);
      updateThemeButton();
    });

    const savedTheme = localStorage.getItem('cephasgm-theme');
    if (savedTheme) {
      root.setAttribute('data-theme', savedTheme);
      updateThemeButton();
    }

    // ========== HIGH CONTRAST TOGGLE ==========
    window.toggleHighContrast = function() {
      const root = document.documentElement;
      const currentTheme = root.getAttribute('data-theme');
      if (currentTheme === 'high-contrast') {
        root.setAttribute('data-theme', 'light');
        localStorage.setItem('cephasgm-theme', 'light');
      } else {
        root.setAttribute('data-theme', 'high-contrast');
        localStorage.setItem('cephasgm-theme', 'high-contrast');
      }
      updateThemeButton();
    };

    // ========== COMPACT VIEW TOGGLE ==========
    const compactBtn = document.getElementById('compactViewToggle');
    compactBtn.addEventListener('click', function() {
      document.body.classList.toggle('compact-view');
      if (document.body.classList.contains('compact-view')) {
        document.querySelectorAll('.module-card').forEach(c => c.style.padding = '0.8rem');
        document.querySelectorAll('.kpi-card').forEach(c => c.style.padding = '0.8rem');
      } else {
        document.querySelectorAll('.module-card').forEach(c => c.style.padding = '1.2rem');
        document.querySelectorAll('.kpi-card').forEach(c => c.style.padding = '1.2rem');
      }
    });

    console.log('üöÄ CephasGM ERP loaded with 31 modules');
  </script>
  <script src="pwa-init.js"></script>
</body>
</html>
