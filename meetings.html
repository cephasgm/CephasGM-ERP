<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#003366">
  <title>CephasGM ‚Äì ERP | Company Meetings</title>
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="icons/icon-192.png">
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, sans-serif;
      margin: 0;
      background: linear-gradient(120deg, #fff3e0, #fce4ec);
      color: #333;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    header {
      background: #003366;
      color: white;
      padding: 15px 20px;
      text-align: left;
      font-size: 22px;
      font-weight: bold;
      position: sticky;
      top: 0;
      z-index: 100;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .nav-back {
      color: white;
      text-decoration: none;
      font-size: 14px;
      font-weight: normal;
      background: rgba(255,255,255,0.2);
      padding: 5px 10px;
      border-radius: 4px;
      transition: background 0.3s;
    }
    .nav-back:hover {
      background: rgba(255,255,255,0.3);
    }
    header span { font-size: 16px; font-weight: normal; opacity: 0.8; }
    footer {
      background: #003366;
      color: white;
      text-align: center;
      padding: 10px 0;
      font-size: 14px;
      margin-top: auto;
    }
    .container { padding: 20px; flex: 1; overflow-x: auto; }
    h2 { text-align: left; color: #003366; margin-bottom: 10px; }
    
    .dashboard-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }
    
    .card {
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      text-align: center;
      cursor: pointer;
      transition: transform 0.3s;
    }
    
    .card:hover {
      transform: translateY(-5px);
    }
    
    .card h3 {
      color: #003366;
      margin-bottom: 10px;
      font-size: 0.9em;
    }
    
    .card .number {
      font-size: 2em;
      font-weight: bold;
      color: #2196f3;
    }
    
    .toolbar {
      margin-bottom: 20px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    
    .btn {
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
    }
    
    .btn-primary { background: #003366; color: white; }
    .btn-success { background: #27ae60; color: white; }
    .btn-warning { background: #f39c12; color: white; }
    .btn-danger { background: #c0392b; color: white; }
    
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }
    
    .calendar-view {
      display: grid;
      grid-template-columns: 1fr 300px;
      gap: 20px;
      margin-bottom: 30px;
    }
    
    .calendar {
      background: white;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    
    .upcoming-meetings {
      background: white;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    
    .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }
    
    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 1px;
      background: #ccc;
      border: 1px solid #ccc;
    }
    
    .calendar-day-header {
      background: #003366;
      color: white;
      padding: 10px;
      text-align: center;
      font-weight: bold;
    }
    
    .calendar-day {
      background: white;
      padding: 10px;
      min-height: 100px;
      cursor: pointer;
      position: relative;
    }
    
    .calendar-day:hover {
      background: #f0f0f0;
    }
    
    .calendar-day.other-month {
      background: #f8f9fa;
      color: #999;
    }
    
    .calendar-day.today {
      background: #e3f2fd;
      border: 2px solid #2196f3;
    }
    
    .meeting-dot {
      width: 8px;
      height: 8px;
      background: #e74c3c;
      border-radius: 50%;
      position: absolute;
      top: 5px;
      right: 5px;
    }
    
    .meeting-item {
      background: #e3f2fd;
      border-left: 4px solid #2196f3;
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 4px;
      cursor: pointer;
    }
    
    .meeting-item:hover {
      background: #bbdefb;
    }
    
    .meeting-time {
      font-size: 0.8em;
      color: #666;
    }
    
    table {
      border-collapse: collapse;
      width: 100%;
      background: white;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    
    th, td {
      border: 1px solid #ccc;
      padding: 12px;
      text-align: left;
      font-size: 14px;
    }
    
    th {
      background: #003366;
      color: white;
      position: sticky;
      top: 0;
      z-index: 5;
    }
    
    tr:nth-child(even) { background: #f9f9f9; }
    
    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.5);
      justify-content: center;
      align-items: center;
      z-index: 200;
    }
    
    .modal-content {
      background: white;
      border-radius: 8px;
      padding: 20px;
      width: 90%;
      max-width: 600px;
      max-height: 80vh;
      overflow-y: auto;
    }
    
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }
    
    .modal-header h3 {
      margin: 0;
      color: #003366;
    }
    
    .form-group {
      margin-bottom: 15px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 5px;
      font-weight: 600;
      color: #003366;
    }
    
    .form-group input, .form-group select, .form-group textarea {
      width: 100%;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 14px;
    }
    
    .google-calendar-btn {
      background: #4285f4;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      margin-top: 10px;
    }
  </style>
</head>
<body>
<header>
  <a href="index.html" class="nav-back">‚Üê Back to Dashboard</a>
  <div>CephasGM ‚Äì ERP <span>Company Meetings</span></div>
</header>

<div class="container">
  <div class="dashboard-cards">
    <div class="card" onclick="filterMeetings('today')">
      <h3>Today's Meetings</h3>
      <div class="number" id="todayMeetings">0</div>
    </div>
    <div class="card" onclick="filterMeetings('week')">
      <h3>This Week</h3>
      <div class="number" id="weekMeetings">0</div>
    </div>
    <div class="card" onclick="filterMeetings('upcoming')">
      <h3>Upcoming</h3>
      <div class="number" id="upcomingMeetings">0</div>
    </div>
    <div class="card" onclick="filterMeetings('completed')">
      <h3>Completed</h3>
      <div class="number" id="completedMeetings">0</div>
    </div>
  </div>

  <div class="toolbar">
    <button class="btn btn-primary" onclick="openModal('scheduleMeeting')">‚ûï Schedule Meeting</button>
    <button class="btn btn-success" onclick="syncGoogleCalendar()">üîÑ Sync Google Calendar</button>
    <button class="btn btn-warning" onclick="generateMeetingReport()">üìä Meeting Report</button>
    <button class="btn btn-danger" onclick="exportMeetings()">üì§ Export Meetings</button>
  </div>

  <div class="calendar-view">
    <div class="calendar">
      <div class="calendar-header">
        <button class="btn" onclick="previousMonth()">‚Üê Previous</button>
        <h3 id="currentMonth">January 2025</h3>
        <button class="btn" onclick="nextMonth()">Next ‚Üí</button>
      </div>
      <div id="calendarGrid" class="calendar-grid"></div>
    </div>
    
    <div class="upcoming-meetings">
      <h3>Upcoming Meetings</h3>
      <div id="upcomingList"></div>
    </div>
  </div>

  <h2>All Meetings</h2>
  <table id="meetingsTable">
    <thead>
      <tr>
        <th>Title</th>
        <th>Date & Time</th>
        <th>Duration</th>
        <th>Organizer</th>
        <th>Participants</th>
        <th>Type</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<footer>Copyright ¬© 2025 üòÄ | CephasGM ERP System</footer>

<!-- Schedule Meeting Modal -->
<div id="scheduleMeetingModal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h3>Schedule New Meeting</h3>
      <button onclick="closeModal('scheduleMeeting')">‚úñ</button>
    </div>
    <form id="meetingForm" onsubmit="saveMeeting(event)">
      <div class="form-group">
        <label for="meetingTitle">Meeting Title</label>
        <input type="text" id="meetingTitle" required>
      </div>
      <div class="form-group">
        <label for="meetingDate">Date</label>
        <input type="date" id="meetingDate" required>
      </div>
      <div class="form-group">
        <label for="meetingTime">Time</label>
        <input type="time" id="meetingTime" required>
      </div>
      <div class="form-group">
        <label for="meetingDuration">Duration (minutes)</label>
        <input type="number" id="meetingDuration" value="60" required>
      </div>
      <div class="form-group">
        <label for="meetingType">Meeting Type</label>
        <select id="meetingType" required>
          <option value="team">Team Meeting</option>
          <option value="client">Client Meeting</option>
          <option value="project">Project Review</option>
          <option value="board">Board Meeting</option>
          <option value="training">Training Session</option>
        </select>
      </div>
      <div class="form-group">
        <label for="meetingParticipants">Participants (comma separated)</label>
        <input type="text" id="meetingParticipants" placeholder="john@company.com, jane@company.com">
      </div>
      <div class="form-group">
        <label for="meetingAgenda">Agenda</label>
        <textarea id="meetingAgenda" rows="4" required></textarea>
      </div>
      <div class="form-group">
        <label for="meetingLocation">Location/Platform</label>
        <input type="text" id="meetingLocation" value="Conference Room A" required>
      </div>
      <button type="button" class="google-calendar-btn" onclick="addToGoogleCalendar()">
        üìÖ Add to Google Calendar
      </button>
      <div style="text-align:center; margin-top:15px;">
        <button class="btn btn-primary" type="submit">Schedule Meeting</button>
        <button class="btn" type="button" onclick="closeModal('scheduleMeeting')">Cancel</button>
      </div>
    </form>
  </div>
</div>

<script>
let meetingsData = JSON.parse(localStorage.getItem('meetingsData') || '[]');
let currentDate = new Date();

function openModal(type) {
  document.getElementById(type + 'Modal').style.display = 'flex';
  if (type === 'scheduleMeeting') {
    document.getElementById('meetingDate').valueAsDate = new Date();
    document.getElementById('meetingTime').value = '10:00';
  }
}

function closeModal(type) {
  document.getElementById(type + 'Modal').style.display = 'none';
}

function saveMeeting(e) {
  e.preventDefault();
  const meeting = {
    id: Date.now(),
    title: document.getElementById('meetingTitle').value,
    date: document.getElementById('meetingDate').value,
    time: document.getElementById('meetingTime').value,
    duration: parseInt(document.getElementById('meetingDuration').value),
    type: document.getElementById('meetingType').value,
    participants: document.getElementById('meetingParticipants').value.split(',').map(p => p.trim()),
    agenda: document.getElementById('meetingAgenda').value,
    location: document.getElementById('meetingLocation').value,
    status: 'scheduled',
    timestamp: new Date().toISOString()
  };
  
  meetingsData.push(meeting);
  localStorage.setItem('meetingsData', JSON.stringify(meetingsData));
  renderMeetings();
  closeModal('scheduleMeeting');
  e.target.reset();
}

function renderMeetings() {
  renderCalendar();
  renderUpcomingMeetings();
  renderMeetingsTable();
  updateDashboard();
}

function renderCalendar() {
  const calendarGrid = document.getElementById('calendarGrid');
  calendarGrid.innerHTML = '';
  
  const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
  days.forEach(day => {
    const header = document.createElement('div');
    header.className = 'calendar-day-header';
    header.textContent = day;
    calendarGrid.appendChild(header);
  });
  
  const firstDay = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);
  const lastDay = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);
  
  // Previous month days
  for (let i = 0; i < firstDay.getDay(); i++) {
    const dayElement = document.createElement('div');
    dayElement.className = 'calendar-day other-month';
    calendarGrid.appendChild(dayElement);
  }
  
  // Current month days
  for (let day = 1; day <= lastDay.getDate(); day++) {
    const dayElement = document.createElement('div');
    dayElement.className = 'calendar-day';
    
    const dateStr = `${currentDate.getFullYear()}-${(currentDate.getMonth() + 1).toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`;
    const dayMeetings = meetingsData.filter(meeting => meeting.date === dateStr);
    
    dayElement.innerHTML = `<strong>${day}</strong>`;
    
    if (day === new Date().getDate() && currentDate.getMonth() === new Date().getMonth() && currentDate.getFullYear() === new Date().getFullYear()) {
      dayElement.classList.add('today');
    }
    
    if (dayMeetings.length > 0) {
      const dot = document.createElement('div');
      dot.className = 'meeting-dot';
      dayElement.appendChild(dot);
    }
    
    dayElement.onclick = () => showDayMeetings(dateStr);
    calendarGrid.appendChild(dayElement);
  }
  
  document.getElementById('currentMonth').textContent = currentDate.toLocaleDateString('en-US', { month: 'long', year: 'numeric' });
}

function renderUpcomingMeetings() {
  const upcomingList = document.getElementById('upcomingList');
  upcomingList.innerHTML = '';
  
  const today = new Date().toISOString().split('T')[0];
  const upcoming = meetingsData
    .filter(meeting => meeting.date >= today)
    .sort((a, b) => new Date(a.date + 'T' + a.time) - new Date(b.date + 'T' + b.time))
    .slice(0, 5);
  
  upcoming.forEach(meeting => {
    const item = document.createElement('div');
    item.className = 'meeting-item';
    item.innerHTML = `
      <strong>${meeting.title}</strong>
      <div class="meeting-time">${new Date(meeting.date).toLocaleDateString()} at ${meeting.time}</div>
      <div>${meeting.location}</div>
    `;
    item.onclick = () => editMeeting(meeting.id);
    upcomingList.appendChild(item);
  });
}

function renderMeetingsTable() {
  const tbody = document.querySelector('#meetingsTable tbody');
  tbody.innerHTML = '';
  
  meetingsData.sort((a, b) => new Date(b.date + 'T' + b.time) - new Date(a.date + 'T' + a.time)).forEach(meeting => {
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td><strong>${meeting.title}</strong></td>
      <td>${new Date(meeting.date).toLocaleDateString()} at ${meeting.time}</td>
      <td>${meeting.duration} min</td>
      <td>Organizer</td>
      <td>${meeting.participants.length} participants</td>
      <td>${meeting.type}</td>
      <td><span class="status-${meeting.status}">${meeting.status}</span></td>
      <td>
        <button class="btn btn-warning" onclick="editMeeting(${meeting.id})">‚úèÔ∏è</button>
        <button class="btn btn-danger" onclick="deleteMeeting(${meeting.id})">üóëÔ∏è</button>
        <button class="btn btn-success" onclick="startMeeting(${meeting.id})">üé¶ Start</button>
      </td>
    `;
    tbody.appendChild(tr);
  });
}

function updateDashboard() {
  const today = new Date().toISOString().split('T')[0];
  const weekStart = new Date();
  weekStart.setDate(weekStart.getDate() - weekStart.getDay());
  const weekEnd = new Date(weekStart);
  weekEnd.setDate(weekEnd.getDate() + 6);
  
  document.getElementById('todayMeetings').textContent = meetingsData.filter(m => m.date === today).length;
  document.getElementById('weekMeetings').textContent = meetingsData.filter(m => {
    const meetingDate = new Date(m.date);
    return meetingDate >= weekStart && meetingDate <= weekEnd;
  }).length;
  document.getElementById('upcomingMeetings').textContent = meetingsData.filter(m => m.date >= today).length;
  document.getElementById('completedMeetings').textContent = meetingsData.filter(m => m.date < today).length;
}

function previousMonth() {
  currentDate.setMonth(currentDate.getMonth() - 1);
  renderCalendar();
}

function nextMonth() {
  currentDate.setMonth(currentDate.getMonth() + 1);
  renderCalendar();
}

function showDayMeetings(dateStr) {
  const dayMeetings = meetingsData.filter(meeting => meeting.date === dateStr);
  if (dayMeetings.length > 0) {
    alert(`Meetings on ${new Date(dateStr).toLocaleDateString()}:\n\n` +
      dayMeetings.map(m => `‚Ä¢ ${m.time} - ${m.title} (${m.duration}min)`).join('\n'));
  } else {
    alert(`No meetings scheduled for ${new Date(dateStr).toLocaleDateString()}`);
  }
}

function editMeeting(id) {
  const meeting = meetingsData.find(m => m.id === id);
  if (meeting) {
    document.getElementById('meetingTitle').value = meeting.title;
    document.getElementById('meetingDate').value = meeting.date;
    document.getElementById('meetingTime').value = meeting.time;
    document.getElementById('meetingDuration').value = meeting.duration;
    document.getElementById('meetingType').value = meeting.type;
    document.getElementById('meetingParticipants').value = meeting.participants.join(', ');
    document.getElementById('meetingAgenda').value = meeting.agenda;
    document.getElementById('meetingLocation').value = meeting.location;
    openModal('scheduleMeeting');
  }
}

function deleteMeeting(id) {
  if (confirm('Delete this meeting?')) {
    meetingsData = meetingsData.filter(m => m.id !== id);
    localStorage.setItem('meetingsData', JSON.stringify(meetingsData));
    renderMeetings();
  }
}

function startMeeting(id) {
  const meeting = meetingsData.find(m => m.id === id);
  if (meeting) {
    alert(`Starting meeting: ${meeting.title}\n\nJoining ${meeting.location}...`);
    // In a real app, this would integrate with Zoom/Teams/Google Meet
  }
}

function syncGoogleCalendar() {
  alert('Syncing with Google Calendar... This would integrate with Google Calendar API in production.');
}

function generateMeetingReport() {
  alert('Meeting report generated! This would create a PDF report of all meetings.');
}

function exportMeetings() {
  const blob = new Blob([JSON.stringify(meetingsData, null, 2)], { type: 'application/json' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'meetings-data.json';
  a.click();
}

function addToGoogleCalendar() {
  const form = document.getElementById('meetingForm');
  if (form.checkValidity()) {
    alert('Meeting added to Google Calendar! In production, this would use Google Calendar API.');
  } else {
    alert('Please fill in all required fields first.');
  }
}

function filterMeetings(filter) {
  alert(`Filtering meetings: ${filter}`);
  // Implementation would filter the meetings table
}

// Initialize
document.addEventListener('DOMContentLoaded', function() {
  renderMeetings();
});
</script>
</body>
</html>
