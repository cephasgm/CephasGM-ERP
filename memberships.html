<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Membership Management - CephasGM ERP</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --primary-light: #3b82f6;
            --secondary: #64748b;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --info: #3b82f6;
            --dark: #1e293b;
            --light: #f8fafc;
            --border: #e2e8f0;
            --text: #334155;
            --text-light: #64748b;
            --background: #f1f5f9;
            --white: #ffffff;
            --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }

        body {
            background: var(--background);
            color: var(--text);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Navigation */
        .navbar {
            background: var(--white);
            border-bottom: 1px solid var(--border);
            padding: 0.75rem 2rem;
            position: sticky;
            top: 0;
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: var(--shadow);
        }

        .nav-left {
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .nav-brand {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--dark);
        }

        .nav-brand span {
            background: var(--primary);
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .nav-menu {
            display: flex;
            gap: 0.5rem;
        }

        .nav-item {
            padding: 0.5rem 1rem;
            border-radius: 8px;
            color: var(--text-light);
            text-decoration: none;
            font-size: 0.95rem;
            font-weight: 500;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-item:hover {
            background: var(--light);
            color: var(--dark);
        }

        .nav-item.active {
            background: var(--primary);
            color: white;
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .nav-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-light);
            cursor: pointer;
            transition: all 0.2s;
        }

        .nav-icon:hover {
            background: var(--light);
            color: var(--dark);
        }

        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            background: var(--primary-light);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            cursor: pointer;
        }

        /* Dropdown Menu */
        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            right: 0;
            top: 100%;
            background: var(--white);
            min-width: 320px;
            max-height: 400px;
            overflow-y: auto;
            border-radius: 12px;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border);
            margin-top: 0.5rem;
            z-index: 1000;
        }

        .dropdown:hover .dropdown-content {
            display: block;
        }

        .dropdown-header {
            padding: 1rem;
            border-bottom: 1px solid var(--border);
            font-weight: 600;
            color: var(--dark);
            background: var(--light);
            border-radius: 12px 12px 0 0;
        }

        .dropdown-item {
            padding: 0.75rem 1rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            color: var(--text);
            text-decoration: none;
            transition: all 0.2s;
            border-bottom: 1px solid var(--border);
        }

        .dropdown-item:last-child {
            border-bottom: none;
        }

        .dropdown-item:hover {
            background: var(--light);
        }

        .dropdown-item i {
            width: 24px;
            color: var(--primary);
        }

        .dropdown-item span {
            flex: 1;
        }

        .dropdown-item small {
            color: var(--text-light);
            font-size: 0.8rem;
        }

        /* Main Container */
        .container {
            max-width: 1600px;
            margin: 2rem auto;
            padding: 0 2rem;
            flex: 1;
        }

        /* Page Header */
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .page-title h1 {
            font-size: 2rem;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 0.25rem;
        }

        .page-title p {
            color: var(--text-light);
            font-size: 0.95rem;
        }

        .header-actions {
            display: flex;
            gap: 1rem;
        }

        /* Buttons */
        .btn {
            padding: 0.625rem 1.25rem;
            border-radius: 8px;
            font-weight: 500;
            font-size: 0.95rem;
            border: 1px solid transparent;
            cursor: pointer;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
        }

        .btn-secondary {
            background: var(--white);
            border-color: var(--border);
            color: var(--text);
        }

        .btn-secondary:hover {
            background: var(--light);
            border-color: var(--text-light);
        }

        .btn-success {
            background: var(--success);
            color: white;
        }

        .btn-warning {
            background: var(--warning);
            color: white;
        }

        .btn-danger {
            background: var(--danger);
            color: white;
        }

        .btn-outline {
            background: transparent;
            border: 1px solid var(--border);
            color: var(--text);
        }

        .btn-outline:hover {
            background: var(--light);
        }

        .btn-sm {
            padding: 0.375rem 0.75rem;
            font-size: 0.85rem;
        }

        .btn-icon {
            padding: 0.625rem;
        }

        .btn-icon i {
            font-size: 1.25rem;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: var(--white);
            padding: 1.5rem;
            border-radius: 16px;
            border: 1px solid var(--border);
            transition: all 0.2s;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
            border-color: var(--primary-light);
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--primary-light));
            opacity: 0;
            transition: opacity 0.2s;
        }

        .stat-card:hover::before {
            opacity: 1;
        }

        .stat-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            background: var(--light);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
            color: var(--primary);
            font-size: 1.5rem;
        }

        .stat-label {
            color: var(--text-light);
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 0.25rem;
        }

        .stat-trend {
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .trend-up {
            color: var(--success);
        }

        .trend-down {
            color: var(--danger);
        }

        /* Tabs */
        .tabs-container {
            background: var(--white);
            border-radius: 12px;
            border: 1px solid var(--border);
            margin-bottom: 2rem;
        }

        .tabs-header {
            display: flex;
            gap: 0.5rem;
            padding: 1rem;
            border-bottom: 1px solid var(--border);
            background: var(--light);
            border-radius: 12px 12px 0 0;
        }

        .tab {
            padding: 0.625rem 1.25rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            color: var(--text-light);
            transition: all 0.2s;
            background: transparent;
            border: 1px solid transparent;
        }

        .tab:hover {
            background: var(--white);
            color: var(--dark);
            border-color: var(--border);
        }

        .tab.active {
            background: var(--white);
            color: var(--primary);
            border-color: var(--border);
            box-shadow: var(--shadow);
        }

        /* Filter Bar */
        .filter-bar {
            background: var(--white);
            padding: 1rem;
            border-radius: 12px;
            border: 1px solid var(--border);
            margin-bottom: 1.5rem;
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            align-items: center;
        }

        .filter-group {
            flex: 1;
            min-width: 200px;
            position: relative;
        }

        .filter-group i {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-light);
        }

        .filter-input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 2.5rem;
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 0.95rem;
            transition: all 0.2s;
        }

        .filter-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .filter-select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 0.95rem;
            background: var(--white);
            cursor: pointer;
        }

        .filter-select:focus {
            outline: none;
            border-color: var(--primary);
        }

        .filter-actions {
            display: flex;
            gap: 0.5rem;
        }

        /* Cards */
        .card {
            background: var(--white);
            border-radius: 16px;
            border: 1px solid var(--border);
            overflow: hidden;
            margin-bottom: 1.5rem;
        }

        .card-header {
            padding: 1.25rem 1.5rem;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--light);
        }

        .card-title {
            font-weight: 600;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .card-title i {
            color: var(--primary);
        }

        .card-body {
            padding: 1.5rem;
        }

        /* Tables */
        .table-responsive {
            overflow-x: auto;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
        }

        .table th {
            text-align: left;
            padding: 1rem 1.5rem;
            background: var(--light);
            color: var(--text-light);
            font-weight: 500;
            font-size: 0.9rem;
            border-bottom: 1px solid var(--border);
        }

        .table td {
            padding: 1rem 1.5rem;
            border-bottom: 1px solid var(--border);
            color: var(--text);
        }

        .table tbody tr:hover {
            background: var(--light);
        }

        /* Status Badges */
        .badge {
            padding: 0.25rem 0.75rem;
            border-radius: 30px;
            font-size: 0.85rem;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
        }

        .badge-active {
            background: #d1fae5;
            color: #065f46;
        }

        .badge-pending {
            background: #fed7aa;
            color: #92400e;
        }

        .badge-expired {
            background: #fee2e2;
            color: #991b1b;
        }

        .badge-cancelled {
            background: #e2e8f0;
            color: #475569;
        }

        .badge-paid {
            background: #d1fae5;
            color: #065f46;
        }

        .badge-failed {
            background: #fee2e2;
            color: #991b1b;
        }

        .badge-refunded {
            background: #e2e8f0;
            color: #475569;
        }

        /* Tier Badges */
        .tier {
            padding: 0.25rem 0.75rem;
            border-radius: 30px;
            font-size: 0.85rem;
            font-weight: 500;
        }

        .tier-basic {
            background: #e2e8f0;
            color: #475569;
        }

        .tier-premium {
            background: #dbeafe;
            color: #1e40af;
        }

        .tier-enterprise {
            background: #fef3c7;
            color: #92400e;
        }

        /* Action Icons */
        .action-icons {
            display: flex;
            gap: 0.5rem;
        }

        .action-icon {
            width: 32px;
            height: 32px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--text-light);
            transition: all 0.2s;
            border: 1px solid transparent;
        }

        .action-icon:hover {
            background: var(--white);
            border-color: var(--border);
            color: var(--primary);
        }

        /* Dashboard Grid */
        .dashboard-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 1.5rem;
        }

        /* Progress Bars */
        .progress-item {
            margin-bottom: 1rem;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .progress-bar {
            height: 8px;
            background: var(--border);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.3s;
        }

        .fill-basic { background: var(--secondary); }
        .fill-premium { background: var(--primary); }
        .fill-enterprise { background: var(--warning); }

        /* Attention Items */
        .attention-item {
            padding: 0.75rem 0;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            border-bottom: 1px solid var(--border);
        }

        .attention-item:last-child {
            border-bottom: none;
        }

        .attention-icon {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .attention-content {
            flex: 1;
        }

        .attention-title {
            font-weight: 500;
            margin-bottom: 0.25rem;
        }

        .attention-meta {
            font-size: 0.85rem;
            color: var(--text-light);
        }

        /* Modals */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(4px);
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--white);
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--shadow-lg);
        }

        .modal-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--light);
            border-radius: 20px 20px 0 0;
        }

        .modal-header h3 {
            font-weight: 600;
            color: var(--dark);
        }

        .modal-close {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border: 1px solid var(--border);
            background: var(--white);
        }

        .modal-body {
            padding: 1.5rem;
        }

        .modal-footer {
            padding: 1.5rem;
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: flex-end;
            gap: 1rem;
        }

        /* Forms */
        .form-group {
            margin-bottom: 1.25rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text);
            font-size: 0.95rem;
        }

        .form-control {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 0.95rem;
            transition: all 0.2s;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        select.form-control {
            cursor: pointer;
            background: var(--white);
        }

        textarea.form-control {
            resize: vertical;
            min-height: 100px;
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem 1.5rem;
            border-top: 1px solid var(--border);
        }

        .pagination button {
            padding: 0.5rem 1rem;
            border: 1px solid var(--border);
            background: var(--white);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .pagination button:hover:not(:disabled) {
            background: var(--light);
            border-color: var(--primary);
        }

        .pagination button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .pagination-info {
            color: var(--text-light);
            font-size: 0.9rem;
        }

        /* Alerts */
        .alert {
            position: fixed;
            top: 100px;
            right: 20px;
            padding: 1rem 1.5rem;
            border-radius: 10px;
            background: var(--white);
            box-shadow: var(--shadow-lg);
            border-left: 4px solid;
            display: none;
            align-items: center;
            gap: 1rem;
            z-index: 1000;
            min-width: 300px;
        }

        .alert.show {
            display: flex;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .alert-success {
            border-left-color: var(--success);
        }

        .alert-error {
            border-left-color: var(--danger);
        }

        .alert-warning {
            border-left-color: var(--warning);
        }

        .alert-info {
            border-left-color: var(--info);
        }

        .alert-icon {
            font-size: 1.25rem;
        }

        .alert-content {
            flex: 1;
        }

        .alert-title {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .alert-message {
            font-size: 0.9rem;
            color: var(--text-light);
        }

        /* Footer */
        .footer {
            background: var(--white);
            border-top: 1px solid var(--border);
            padding: 1.5rem 2rem;
            margin-top: auto;
        }

        .footer-content {
            max-width: 1600px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: var(--text-light);
            font-size: 0.9rem;
        }

        .footer-links {
            display: flex;
            gap: 2rem;
        }

        .footer-links a {
            color: var(--text-light);
            text-decoration: none;
            transition: color 0.2s;
        }

        .footer-links a:hover {
            color: var(--primary);
        }

        .build-info {
            font-family: monospace;
            color: var(--text-light);
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .navbar {
                padding: 0.75rem 1rem;
            }
            
            .nav-menu {
                display: none;
            }
            
            .container {
                padding: 0 1rem;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .page-header {
                flex-direction: column;
                gap: 1rem;
                align-items: flex-start;
            }
            
            .footer-content {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }
            
            .footer-links {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-left">
            <div class="nav-brand">
                <span>üè¢ CephasGM</span>
                <span>ERP</span>
            </div>
            <div class="nav-menu">
                <a href="https://cephasgm.github.io/CephasGM-ERP/index.html" class="nav-item">
                    <span>üè†</span> Dashboard
                </a>
                <div class="dropdown">
                    <a href="#" class="nav-item">
                        <span>üì¶</span> Modules ‚ñº
                    </a>
                    <div class="dropdown-content">
                        <div class="dropdown-header">All ERP Modules</div>
                        <a href="https://cephasgm.github.io/CephasGM-ERP/inventory.html" class="dropdown-item">
                            <i>üì¶</i>
                            <span>Inventory Management</span>
                            <small>Stock</small>
                        </a>
                        <a href="https://cephasgm.github.io/CephasGM-ERP/procurement.html" class="dropdown-item">
                            <i>üõí</i>
                            <span>Procurement</span>
                            <small>Purchasing</small>
                        </a>
                        <a href="https://cephasgm.github.io/CephasGM-ERP/transport.html" class="dropdown-item">
                            <i>üöö</i>
                            <span>Transport & Logistics</span>
                            <small>Shipping</small>
                        </a>
                        <a href="https://cephasgm.github.io/CephasGM-ERP/projects.html" class="dropdown-item">
                            <i>üìä</i>
                            <span>Project Management</span>
                            <small>Projects</small>
                        </a>
                        <a href="https://cephasgm.github.io/CephasGM-ERP/sales.html" class="dropdown-item">
                            <i>üí∞</i>
                            <span>Sales Operations</span>
                            <small>Sales</small>
                        </a>
                        <a href="https://cephasgm.github.io/CephasGM-ERP/marketing.html" class="dropdown-item">
                            <i>üìà</i>
                            <span>Marketing & BI</span>
                            <small>Analytics</small>
                        </a>
                        <a href="https://cephasgm.github.io/CephasGM-ERP/customer-service.html" class="dropdown-item">
                            <i>ü§ù</i>
                            <span>Customer Service</span>
                            <small>Support</small>
                        </a>
                        <a href="https://cephasgm.github.io/CephasGM-ERP/legal.html" class="dropdown-item">
                            <i>‚öñÔ∏è</i>
                            <span>Legal & Compliance</span>
                            <small>Legal</small>
                        </a>
                        <a href="https://cephasgm.github.io/CephasGM-ERP/hr.html" class="dropdown-item">
                            <i>üë•</i>
                            <span>Human Resources</span>
                            <small>HR</small>
                        </a>
                        <a href="https://cephasgm.github.io/CephasGM-ERP/payroll.html" class="dropdown-item">
                            <i>üíµ</i>
                            <span>Payroll Management</span>
                            <small>Payroll</small>
                        </a>
                        <a href="https://cephasgm.github.io/CephasGM-ERP/attendance.html" class="dropdown-item">
                            <i>‚è∞</i>
                            <span>Attendance</span>
                            <small>Time</small>
                        </a>
                        <a href="https://cephasgm.github.io/CephasGM-ERP/training.html" class="dropdown-item">
                            <i>üìö</i>
                            <span>Training</span>
                            <small>Development</small>
                        </a>
                        <a href="https://cephasgm.github.io/CephasGM-ERP/meetings.html" class="dropdown-item">
                            <i>ü§ù</i>
                            <span>Meetings</span>
                            <small>Collaboration</small>
                        </a>
                        <a href="https://cephasgm.github.io/CephasGM-ERP/community.html" class="dropdown-item">
                            <i>üåç</i>
                            <span>Community & CSR</span>
                            <small>Outreach</small>
                        </a>
                        <a href="https://cephasgm.github.io/CephasGM-ERP/safety.html" class="dropdown-item">
                            <i>‚ö†Ô∏è</i>
                            <span>Health & Safety</span>
                            <small>OH&S</small>
                        </a>
                        <a href="https://cephasgm.github.io/CephasGM-ERP/admin.html" class="dropdown-item">
                            <i>‚öôÔ∏è</i>
                            <span>System Admin</span>
                            <small>Settings</small>
                        </a>
                        <a href="https://cephasgm.github.io/CephasGM-ERP/finance.html" class="dropdown-item">
                            <i>üíπ</i>
                            <span>Financial Management</span>
                            <small>Finance</small>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="nav-right">
            <div class="nav-icon">
                <span>üîî</span>
            </div>
            <div class="nav-icon">
                <span>‚öôÔ∏è</span>
            </div>
            <div class="avatar">
                <span>AD</span>
            </div>
        </div>
    </nav>

    <!-- Main Container -->
    <div class="container">
        <!-- Page Header -->
        <div class="page-header">
            <div class="page-title">
                <h1>Membership & Subscriptions</h1>
                <p>Manage members, subscriptions, and recurring revenue</p>
            </div>
            <div class="header-actions">
                <button class="btn btn-secondary" onclick="exportData()">
                    <span>üì•</span> Export
                </button>
                <button class="btn btn-primary" onclick="openMemberModal()">
                    <span>‚ûï</span> Add Member
                </button>
            </div>
        </div>

        <!-- Stats Grid -->
        <div class="stats-grid">
            <div class="stat-card" onclick="filterByStatus('active')">
                <div class="stat-icon">üë•</div>
                <div class="stat-label">Active Members</div>
                <div class="stat-value" id="totalActive">0</div>
                <div class="stat-trend">
                    <span class="trend-up">‚Üë</span> <span id="newMembers">0 this month</span>
                </div>
            </div>
            <div class="stat-card" onclick="showRevenueDetails()">
                <div class="stat-icon">üí∞</div>
                <div class="stat-label">Monthly Revenue</div>
                <div class="stat-value" id="monthlyRevenue">$0</div>
                <div class="stat-trend">
                    <span class="trend-up">‚Üë</span> <span id="revenueGrowth">12.4%</span>
                </div>
            </div>
            <div class="stat-card" onclick="showARRDetails()">
                <div class="stat-icon">üìà</div>
                <div class="stat-label">Annual Revenue</div>
                <div class="stat-value" id="annualRevenue">$0</div>
                <div class="stat-trend">
                    <span class="trend-up">‚Üë</span> <span id="arrGrowth">18.2%</span>
                </div>
            </div>
            <div class="stat-card" onclick="showChurnDetails()">
                <div class="stat-icon">üìâ</div>
                <div class="stat-label">Churn Rate</div>
                <div class="stat-value" id="churnRate">0%</div>
                <div class="stat-trend">
                    <span class="trend-down">‚Üì</span> <span id="churnTrend">0.5%</span>
                </div>
            </div>
        </div>

        <!-- Tabs -->
        <div class="tabs-container">
            <div class="tabs-header">
                <div class="tab active" onclick="switchTab('members', this)">All Members</div>
                <div class="tab" onclick="switchTab('subscriptions', this)">Subscriptions</div>
                <div class="tab" onclick="switchTab('plans', this)">Plans & Pricing</div>
                <div class="tab" onclick="switchTab('payments', this)">Payments</div>
                <div class="tab" onclick="switchTab('renewals', this)">Renewals</div>
                <div class="tab" onclick="switchTab('analytics', this)">Analytics</div>
            </div>

            <!-- Filter Bar -->
            <div class="filter-bar" id="filterBar">
                <div class="filter-group">
                    <i>üîç</i>
                    <input type="text" class="filter-input" id="searchInput" placeholder="Search by name, email, or ID..." onkeyup="filterMembers()">
                </div>
                <select class="filter-select" id="tierFilter" onchange="filterMembers()">
                    <option value="">All Tiers</option>
                    <option value="Basic">Basic</option>
                    <option value="Premium">Premium</option>
                    <option value="Enterprise">Enterprise</option>
                </select>
                <select class="filter-select" id="statusFilter" onchange="filterMembers()">
                    <option value="">All Statuses</option>
                    <option value="Active">Active</option>
                    <option value="Pending">Pending</option>
                    <option value="Expired">Expired</option>
                    <option value="Cancelled">Cancelled</option>
                </select>
                <div class="filter-actions">
                    <button class="btn btn-primary" onclick="filterMembers()">Apply Filters</button>
                    <button class="btn btn-outline" onclick="resetFilters()">Reset</button>
                </div>
            </div>

            <!-- Members View -->
            <div id="membersView">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">
                            <i>üìã</i> Members List
                        </div>
                        <span class="action-icon" onclick="exportMembers()" title="Export to CSV">
                            <i>üì•</i>
                        </span>
                    </div>
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Member ID</th>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Tier</th>
                                    <th>Join Date</th>
                                    <th>Renewal Date</th>
                                    <th>Status</th>
                                    <th>MRR</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="membersTableBody"></tbody>
                        </table>
                    </div>
                    <div class="pagination" id="membersPagination">
                        <button onclick="changePage('members', -1)" id="membersPrev" disabled>‚Üê Previous</button>
                        <span class="pagination-info" id="membersPageInfo">Page 1 of 1</span>
                        <button onclick="changePage('members', 1)" id="membersNext">Next ‚Üí</button>
                    </div>
                </div>

                <div class="dashboard-grid">
                    <!-- Left Column -->
                    <div>
                        <!-- Upcoming Renewals -->
                        <div class="card">
                            <div class="card-header">
                                <div class="card-title">
                                    <i>‚è∞</i> Upcoming Renewals (Next 30 Days)
                                </div>
                                <button class="btn btn-sm btn-outline" onclick="processAllRenewals()">
                                    <i>‚ö°</i> Process All
                                </button>
                            </div>
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>Member</th>
                                            <th>Plan</th>
                                            <th>Renewal Date</th>
                                            <th>Amount</th>
                                            <th>Auto-Renew</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="renewalsTableBody"></tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Recent Payments -->
                        <div class="card">
                            <div class="card-header">
                                <div class="card-title">
                                    <i>üí≥</i> Recent Payments
                                </div>
                                <button class="btn btn-sm btn-outline" onclick="viewAllPayments()">
                                    <i>üëÅÔ∏è</i> View All
                                </button>
                            </div>
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>Date</th>
                                            <th>Member</th>
                                            <th>Invoice</th>
                                            <th>Amount</th>
                                            <th>Status</th>
                                        </tr>
                                    </thead>
                                    <tbody id="paymentsTableBody"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Right Column -->
                    <div>
                        <!-- Membership Distribution -->
                        <div class="card">
                            <div class="card-header">
                                <div class="card-title">
                                    <i>üìä</i> Membership Distribution
                                </div>
                                <span class="action-icon" onclick="refreshDistribution()">
                                    <i>üîÑ</i>
                                </span>
                            </div>
                            <div class="card-body" id="distributionContainer"></div>
                        </div>

                        <!-- Revenue by Tier -->
                        <div class="card">
                            <div class="card-header">
                                <div class="card-title">
                                    <i>üí∞</i> Revenue by Tier
                                </div>
                                <span class="action-icon" onclick="refreshRevenue()">
                                    <i>üîÑ</i>
                                </span>
                            </div>
                            <div class="table-responsive">
                                <table class="table" id="revenueByTier"></table>
                            </div>
                        </div>

                        <!-- Attention Needed -->
                        <div class="card">
                            <div class="card-header">
                                <div class="card-title">
                                    <i>‚ö†Ô∏è</i> Attention Needed
                                </div>
                                <span class="action-icon" onclick="refreshAttention()">
                                    <i>üîÑ</i>
                                </span>
                            </div>
                            <div class="card-body" id="attentionContainer"></div>
                            <div style="padding: 1rem 1.5rem; border-top: 1px solid var(--border); display: flex; gap: 0.5rem;">
                                <button class="btn btn-sm btn-warning" onclick="sendReminders()">
                                    <i>üìß</i> Send Reminders
                                </button>
                                <button class="btn btn-sm btn-danger" onclick="retryPayments()">
                                    <i>üîÑ</i> Retry Failed
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Subscriptions View -->
            <div id="subscriptionsView" style="display: none;">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">
                            <i>üîÑ</i> Active Subscriptions
                        </div>
                        <button class="btn btn-primary btn-sm" onclick="openSubscriptionModal()">
                            <i>‚ûï</i> New Subscription
                        </button>
                    </div>
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Member</th>
                                    <th>Plan</th>
                                    <th>Billing</th>
                                    <th>Start Date</th>
                                    <th>End Date</th>
                                    <th>Amount</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="subscriptionsTableBody"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Plans View -->
            <div id="plansView" style="display: none;">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">
                            <i>üì¶</i> Membership Plans
                        </div>
                        <button class="btn btn-primary btn-sm" onclick="openPlanModal()">
                            <i>‚ûï</i> Add Plan
                        </button>
                    </div>
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Plan Name</th>
                                    <th>Description</th>
                                    <th>Monthly</th>
                                    <th>Annual</th>
                                    <th>Features</th>
                                    <th>Members</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="plansTableBody"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Payments View -->
            <div id="paymentsView" style="display: none;">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">
                            <i>üí≥</i> All Payments
                        </div>
                        <button class="btn btn-primary btn-sm" onclick="recordPayment()">
                            <i>‚ûï</i> Record Payment
                        </button>
                    </div>
                    <div class="filter-bar">
                        <div class="filter-group">
                            <i>üîç</i>
                            <input type="text" class="filter-input" id="paymentSearch" placeholder="Search payments..." onkeyup="filterPayments()">
                        </div>
                        <select class="filter-select" id="paymentStatusFilter" onchange="filterPayments()">
                            <option value="">All Statuses</option>
                            <option value="Paid">Paid</option>
                            <option value="Pending">Pending</option>
                            <option value="Failed">Failed</option>
                            <option value="Refunded">Refunded</option>
                        </select>
                    </div>
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Invoice</th>
                                    <th>Member</th>
                                    <th>Description</th>
                                    <th>Amount</th>
                                    <th>Method</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="allPaymentsTableBody"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Renewals View -->
            <div id="renewalsView" style="display: none;">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">
                            <i>‚è∞</i> All Renewals
                        </div>
                        <button class="btn btn-success btn-sm" onclick="processAllRenewals()">
                            <i>‚ö°</i> Process All
                        </button>
                    </div>
                    <div class="filter-bar">
                        <select class="filter-select" id="renewalPeriodFilter" onchange="filterRenewals()">
                            <option value="30">Next 30 Days</option>
                            <option value="60">Next 60 Days</option>
                            <option value="90">Next 90 Days</option>
                            <option value="all">All Future</option>
                        </select>
                    </div>
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Member</th>
                                    <th>Plan</th>
                                    <th>Renewal Date</th>
                                    <th>Amount</th>
                                    <th>Days Left</th>
                                    <th>Auto-Renew</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="allRenewalsTableBody"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Analytics View -->
            <div id="analyticsView" style="display: none;">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">
                            <i>üìä</i> Membership Analytics
                        </div>
                        <button class="btn btn-outline btn-sm" onclick="refreshAnalytics()">
                            <i>üîÑ</i> Refresh
                        </button>
                    </div>
                    <div class="card-body">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                            <div>
                                <h4 style="margin-bottom: 1rem; color: var(--dark);">Growth Metrics</h4>
                                <table class="table">
                                    <tr>
                                        <td>New Members (MTD)</td>
                                        <td><strong id="analyticsNewMembers">0</strong></td>
                                    </tr>
                                    <tr>
                                        <td>Churned Members (MTD)</td>
                                        <td><strong id="analyticsChurned">0</strong></td>
                                    </tr>
                                    <tr>
                                        <td>Net Growth</td>
                                        <td><strong id="analyticsGrowth">0</strong></td>
                                    </tr>
                                    <tr>
                                        <td>Retention Rate</td>
                                        <td><strong id="analyticsRetention">0%</strong></td>
                                    </tr>
                                </table>
                            </div>
                            <div>
                                <h4 style="margin-bottom: 1rem; color: var(--dark);">Financial Metrics</h4>
                                <table class="table">
                                    <tr>
                                        <td>ARPU</td>
                                        <td><strong id="analyticsARPU">$0</strong></td>
                                    </tr>
                                    <tr>
                                        <td>LTV</td>
                                        <td><strong id="analyticsLTV">$0</strong></td>
                                    </tr>
                                    <tr>
                                        <td>Revenue Growth</td>
                                        <td><strong id="analyticsRevenueGrowth">0%</strong></td>
                                    </tr>
                                    <tr>
                                        <td>Expansion Revenue</td>
                                        <td><strong id="analyticsExpansion">$0</strong></td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div class="modal" id="memberModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="memberModalTitle">Add New Member</h3>
                <div class="modal-close" onclick="closeMemberModal()">‚úï</div>
            </div>
            <form id="memberForm" onsubmit="saveMember(event)">
                <div class="modal-body">
                    <input type="hidden" id="memberId">
                    <div class="form-group">
                        <label class="form-label">Full Name</label>
                        <input type="text" class="form-control" id="memberName" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email Address</label>
                        <input type="email" class="form-control" id="memberEmail" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Phone Number</label>
                        <input type="tel" class="form-control" id="memberPhone" placeholder="+1 (555) 000-0000">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Membership Tier</label>
                        <select class="form-control" id="memberTier" required onchange="updateMemberAmount()">
                            <option value="">Select Tier</option>
                            <option value="Basic">Basic - $49/month</option>
                            <option value="Premium">Premium - $99/month</option>
                            <option value="Enterprise">Enterprise - $299/month</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Billing Period</label>
                        <select class="form-control" id="billingPeriod">
                            <option value="Monthly">Monthly</option>
                            <option value="Annual">Annual (Save 10%)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Join Date</label>
                        <input type="date" class="form-control" id="joinDate" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Status</label>
                        <select class="form-control" id="memberStatus">
                            <option value="Active">Active</option>
                            <option value="Pending">Pending</option>
                            <option value="Expired">Expired</option>
                            <option value="Cancelled">Cancelled</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline" onclick="closeMemberModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Member</button>
                </div>
            </form>
        </div>
    </div>

    <div class="modal" id="subscriptionModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>New Subscription</h3>
                <div class="modal-close" onclick="closeSubscriptionModal()">‚úï</div>
            </div>
            <form id="subscriptionForm" onsubmit="saveSubscription(event)">
                <div class="modal-body">
                    <div class="form-group">
                        <label class="form-label">Member</label>
                        <select class="form-control" id="subscriptionMember" required>
                            <option value="">Select Member</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Plan</label>
                        <select class="form-control" id="subscriptionPlan" required onchange="updateSubscriptionAmount()">
                            <option value="">Select Plan</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Billing Period</label>
                        <select class="form-control" id="subscriptionBillingPeriod" onchange="updateSubscriptionAmount()">
                            <option value="Monthly">Monthly</option>
                            <option value="Annual">Annual</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Start Date</label>
                        <input type="date" class="form-control" id="subscriptionStart" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">End Date</label>
                        <input type="date" class="form-control" id="subscriptionEnd" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Amount</label>
                        <input type="text" class="form-control" id="subscriptionAmount" readonly>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline" onclick="closeSubscriptionModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary">Create Subscription</button>
                </div>
            </form>
        </div>
    </div>

    <div class="modal" id="planModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Plan</h3>
                <div class="modal-close" onclick="closePlanModal()">‚úï</div>
            </div>
            <form id="planForm" onsubmit="savePlan(event)">
                <div class="modal-body">
                    <div class="form-group">
                        <label class="form-label">Plan Name</label>
                        <input type="text" class="form-control" id="planName" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Description</label>
                        <textarea class="form-control" id="planDescription" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Monthly Price ($)</label>
                        <input type="number" class="form-control" id="planMonthlyPrice" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Annual Price ($)</label>
                        <input type="number" class="form-control" id="planAnnualPrice" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Features (comma separated)</label>
                        <input type="text" class="form-control" id="planFeatures" placeholder="Feature 1, Feature 2, Feature 3">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline" onclick="closePlanModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Plan</button>
                </div>
            </form>
        </div>
    </div>

    <div class="modal" id="paymentModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Record Payment</h3>
                <div class="modal-close" onclick="closePaymentModal()">‚úï</div>
            </div>
            <form id="paymentForm" onsubmit="savePayment(event)">
                <div class="modal-body">
                    <div class="form-group">
                        <label class="form-label">Member</label>
                        <select class="form-control" id="paymentMember" required>
                            <option value="">Select Member</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Amount ($)</label>
                        <input type="number" class="form-control" id="paymentAmount" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Payment Method</label>
                        <select class="form-control" id="paymentMethod">
                            <option value="Credit Card">Credit Card</option>
                            <option value="Bank Transfer">Bank Transfer</option>
                            <option value="PayPal">PayPal</option>
                            <option value="Cash">Cash</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Description</label>
                        <input type="text" class="form-control" id="paymentDescription" placeholder="Monthly membership fee">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Payment Date</label>
                        <input type="date" class="form-control" id="paymentDate" required>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline" onclick="closePaymentModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary">Record Payment</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Alert -->
    <div class="alert" id="alertMessage">
        <div class="alert-icon" id="alertIcon">‚úÖ</div>
        <div class="alert-content">
            <div class="alert-title" id="alertTitle">Success</div>
            <div class="alert-message" id="alertText">Operation completed successfully</div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div>¬© 2026 CephasGM Group. All rights reserved.</div>
            <div class="footer-links">
                <a href="#" onclick="showAbout()">About</a>
                <a href="#" onclick="showPrivacy()">Privacy</a>
                <a href="#" onclick="showTerms()">Terms</a>
                <a href="#" onclick="showSupport()">Support</a>
            </div>
            <div class="build-info">v3.14.2 ¬∑ Build 2026.02.21 ¬∑ PROD</div>
        </div>
    </footer>

    <script>
        // Data initialization
        let members = [
            { id: 'M-1001', name: 'John Smith', email: 'john.smith@email.com', phone: '+1 (555) 123-4567', tier: 'Premium', billingPeriod: 'Annual', joinDate: '2025-01-15', renewalDate: '2026-01-15', status: 'Active', mrr: 99 },
            { id: 'M-1002', name: 'Sarah Johnson', email: 'sarah.j@email.com', phone: '+1 (555) 234-5678', tier: 'Basic', billingPeriod: 'Monthly', joinDate: '2025-03-20', renewalDate: '2026-03-20', status: 'Active', mrr: 49 },
            { id: 'M-1003', name: 'Michael Wilson', email: 'michael.w@email.com', phone: '+1 (555) 345-6789', tier: 'Enterprise', billingPeriod: 'Annual', joinDate: '2024-11-10', renewalDate: '2025-11-10', status: 'Pending', mrr: 299 },
            { id: 'M-1004', name: 'Emily Brown', email: 'emily.b@email.com', phone: '+1 (555) 456-7890', tier: 'Premium', billingPeriod: 'Annual', joinDate: '2025-06-05', renewalDate: '2026-06-05', status: 'Active', mrr: 99 },
            { id: 'M-1005', name: 'David Lee', email: 'david.lee@email.com', phone: '+1 (555) 567-8901', tier: 'Basic', billingPeriod: 'Monthly', joinDate: '2026-01-10', renewalDate: '2027-01-10', status: 'Active', mrr: 49 },
            { id: 'M-1006', name: 'Lisa Anderson', email: 'lisa.a@email.com', phone: '+1 (555) 678-9012', tier: 'Premium', billingPeriod: 'Monthly', joinDate: '2026-02-01', renewalDate: '2027-02-01', status: 'Active', mrr: 99 },
            { id: 'M-1007', name: 'Robert Taylor', email: 'robert.t@email.com', phone: '+1 (555) 789-0123', tier: 'Enterprise', billingPeriod: 'Annual', joinDate: '2025-09-15', renewalDate: '2026-09-15', status: 'Active', mrr: 299 },
            { id: 'M-1008', name: 'Maria Garcia', email: 'maria.g@email.com', phone: '+1 (555) 890-1234', tier: 'Basic', billingPeriod: 'Monthly', joinDate: '2026-02-15', renewalDate: '2027-02-15', status: 'Pending', mrr: 49 }
        ];

        let subscriptions = [
            { id: 'SUB-001', memberId: 'M-1001', memberName: 'John Smith', plan: 'Premium', billingPeriod: 'Annual', startDate: '2025-01-15', endDate: '2026-01-15', amount: 999, status: 'Active' },
            { id: 'SUB-002', memberId: 'M-1002', memberName: 'Sarah Johnson', plan: 'Basic', billingPeriod: 'Monthly', startDate: '2025-03-20', endDate: '2026-03-20', amount: 49, status: 'Active' },
            { id: 'SUB-003', memberId: 'M-1003', memberName: 'Michael Wilson', plan: 'Enterprise', billingPeriod: 'Annual', startDate: '2024-11-10', endDate: '2025-11-10', amount: 2999, status: 'Pending' },
            { id: 'SUB-004', memberId: 'M-1004', memberName: 'Emily Brown', plan: 'Premium', billingPeriod: 'Annual', startDate: '2025-06-05', endDate: '2026-06-05', amount: 999, status: 'Active' },
            { id: 'SUB-005', memberId: 'M-1005', memberName: 'David Lee', plan: 'Basic', billingPeriod: 'Monthly', startDate: '2026-01-10', endDate: '2027-01-10', amount: 49, status: 'Active' }
        ];

        let plans = [
            { id: 1, name: 'Basic', description: 'Essential features for individuals', monthlyPrice: 49, annualPrice: 499, features: 'Basic Support, Up to 5 users, 10GB Storage', activeMembers: 3 },
            { id: 2, name: 'Premium', description: 'Advanced features for professionals', monthlyPrice: 99, annualPrice: 999, features: 'Priority Support, Up to 20 users, 100GB Storage, API Access', activeMembers: 3 },
            { id: 3, name: 'Enterprise', description: 'Complete solution for organizations', monthlyPrice: 299, annualPrice: 2999, features: '24/7 Support, Unlimited users, 1TB Storage, Custom Analytics', activeMembers: 2 }
        ];

        let payments = [
            { id: 'PAY-001', date: '2026-02-22', memberId: 'M-1001', memberName: 'John Smith', invoice: 'INV-1001-0226', description: 'Premium Annual - 2026', amount: 999, method: 'Credit Card', status: 'Paid' },
            { id: 'PAY-002', date: '2026-02-21', memberId: 'M-1002', memberName: 'Sarah Johnson', invoice: 'INV-1002-0226', description: 'Basic Monthly - Feb', amount: 49, method: 'PayPal', status: 'Paid' },
            { id: 'PAY-003', date: '2026-02-20', memberId: 'M-1004', memberName: 'Emily Brown', invoice: 'INV-1004-0226', description: 'Premium Annual - 2026', amount: 999, method: 'Credit Card', status: 'Paid' },
            { id: 'PAY-004', date: '2026-02-19', memberId: 'M-1005', memberName: 'David Lee', invoice: 'INV-1005-0226', description: 'Basic Monthly - Feb', amount: 49, method: 'Bank Transfer', status: 'Pending' },
            { id: 'PAY-005', date: '2026-02-18', memberId: 'M-1003', memberName: 'Michael Wilson', invoice: 'INV-1003-0226', description: 'Enterprise Annual - Failed', amount: 2999, method: 'Credit Card', status: 'Failed' }
        ];

        // Pagination
        let currentPage = { members: 1 };
        const itemsPerPage = 5;

        // Alert function
        function showAlert(message, type = 'success') {
            const alert = document.getElementById('alertMessage');
            const icon = document.getElementById('alertIcon');
            const title = document.getElementById('alertTitle');
            const text = document.getElementById('alertText');
            
            alert.className = `alert alert-${type} show`;
            
            switch(type) {
                case 'success':
                    icon.textContent = '‚úÖ';
                    title.textContent = 'Success';
                    break;
                case 'error':
                    icon.textContent = '‚ùå';
                    title.textContent = 'Error';
                    break;
                case 'warning':
                    icon.textContent = '‚ö†Ô∏è';
                    title.textContent = 'Warning';
                    break;
                case 'info':
                    icon.textContent = '‚ÑπÔ∏è';
                    title.textContent = 'Information';
                    break;
            }
            
            text.textContent = message;
            
            setTimeout(() => {
                alert.classList.remove('show');
            }, 5000);
        }

        // Update statistics
        function updateStats() {
            const activeMembers = members.filter(m => m.status === 'Active').length;
            document.getElementById('totalActive').textContent = activeMembers;
            
            const monthlyRevenue = members.reduce((sum, m) => sum + (m.status === 'Active' ? m.mrr : 0), 0);
            document.getElementById('monthlyRevenue').textContent = '$' + monthlyRevenue.toLocaleString();
            document.getElementById('annualRevenue').textContent = '$' + (monthlyRevenue * 12).toLocaleString();
            
            const churnRate = ((members.filter(m => m.status === 'Cancelled').length / members.length) * 100).toFixed(1);
            document.getElementById('churnRate').textContent = churnRate + '%';
            
            const newThisMonth = members.filter(m => {
                const joinDate = new Date(m.joinDate);
                const now = new Date();
                return joinDate.getMonth() === now.getMonth() && joinDate.getFullYear() === now.getFullYear();
            }).length;
            
            document.getElementById('newMembers').textContent = newThisMonth + ' this month';
        }

        // Render functions
        function renderMembers() {
            const tbody = document.getElementById('membersTableBody');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            
            const filtered = getFilteredMembers();
            const start = (currentPage.members - 1) * itemsPerPage;
            const end = start + itemsPerPage;
            const paginated = filtered.slice(start, end);
            
            paginated.forEach(member => {
                const row = tbody.insertRow();
                row.innerHTML = `
                    <td><strong>${member.id}</strong></td>
                    <td>${member.name}</td>
                    <td>${member.email}</td>
                    <td><span class="tier tier-${member.tier.toLowerCase()}">${member.tier}</span></td>
                    <td>${member.joinDate}</td>
                    <td>${member.renewalDate || 'N/A'}</td>
                    <td><span class="badge badge-${member.status.toLowerCase()}">${member.status}</span></td>
                    <td>$${member.mrr}</td>
                    <td class="action-icons">
                        <span class="action-icon" onclick="viewMember('${member.id}')" title="View">üëÅÔ∏è</span>
                        <span class="action-icon" onclick="editMember('${member.id}')" title="Edit">‚úèÔ∏è</span>
                        <span class="action-icon" onclick="deleteMember('${member.id}')" title="Delete">üóëÔ∏è</span>
                    </td>
                `;
            });
            
            updatePagination(filtered.length);
        }

        function getFilteredMembers() {
            const search = document.getElementById('searchInput')?.value.toLowerCase() || '';
            const tier = document.getElementById('tierFilter')?.value || '';
            const status = document.getElementById('statusFilter')?.value || '';
            
            return members.filter(m => {
                const matchesSearch = search === '' || 
                    m.name.toLowerCase().includes(search) ||
                    m.email.toLowerCase().includes(search) ||
                    m.id.toLowerCase().includes(search);
                const matchesTier = !tier || m.tier === tier;
                const matchesStatus = !status || m.status === status;
                return matchesSearch && matchesTier && matchesStatus;
            });
        }

        function filterMembers() {
            currentPage.members = 1;
            renderMembers();
        }

        function resetFilters() {
            document.getElementById('searchInput').value = '';
            document.getElementById('tierFilter').value = '';
            document.getElementById('statusFilter').value = '';
            currentPage.members = 1;
            renderMembers();
            showAlert('Filters reset', 'info');
        }

        function updatePagination(totalItems) {
            const totalPages = Math.ceil(totalItems / itemsPerPage);
            const prevBtn = document.getElementById('membersPrev');
            const nextBtn = document.getElementById('membersNext');
            const pageInfo = document.getElementById('membersPageInfo');
            
            if (prevBtn && nextBtn && pageInfo) {
                prevBtn.disabled = currentPage.members <= 1;
                nextBtn.disabled = currentPage.members >= totalPages || totalPages === 0;
                pageInfo.textContent = `Page ${currentPage.members} of ${totalPages || 1}`;
            }
        }

        function changePage(type, direction) {
            const filtered = getFilteredMembers();
            const totalPages = Math.ceil(filtered.length / itemsPerPage);
            
            currentPage[type] += direction;
            if (currentPage[type] < 1) currentPage[type] = 1;
            if (currentPage[type] > totalPages) currentPage[type] = totalPages;
            
            renderMembers();
        }

        function renderRenewals() {
            const tbody = document.getElementById('renewalsTableBody');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            
            const today = new Date();
            const thirtyDays = new Date();
            thirtyDays.setDate(today.getDate() + 30);
            
            const renewals = members.filter(m => {
                if (!m.renewalDate || m.status !== 'Active') return false;
                const renewal = new Date(m.renewalDate);
                return renewal >= today && renewal <= thirtyDays;
            }).sort((a, b) => new Date(a.renewalDate) - new Date(b.renewalDate));
            
            if (renewals.length === 0) {
                tbody.innerHTML = '<tr><td colspan="6" style="text-align: center; padding: 2rem;">No upcoming renewals</td></tr>';
                return;
            }
            
            renewals.slice(0, 5).forEach(member => {
                const row = tbody.insertRow();
                const amount = member.billingPeriod === 'Annual' ? member.mrr * 10 : member.mrr;
                row.innerHTML = `
                    <td>${member.name}</td>
                    <td>${member.tier}</td>
                    <td>${member.renewalDate}</td>
                    <td>$${amount}</td>
                    <td>${member.billingPeriod === 'Annual' ? '‚úì' : '‚úó'}</td>
                    <td><span class="action-icon" onclick="processRenewal('${member.id}')">üîÑ</span></td>
                `;
            });
        }

        function renderPayments() {
            const tbody = document.getElementById('paymentsTableBody');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            
            const recent = [...payments]
                .sort((a, b) => new Date(b.date) - new Date(a.date))
                .slice(0, 5);
            
            recent.forEach(p => {
                const row = tbody.insertRow();
                row.innerHTML = `
                    <td>${p.date}</td>
                    <td>${p.memberName}</td>
                    <td>${p.invoice}</td>
                    <td>$${p.amount}</td>
                    <td><span class="badge badge-${p.status.toLowerCase()}">${p.status}</span></td>
                `;
            });
        }

        function renderDistribution() {
            const container = document.getElementById('distributionContainer');
            if (!container) return;
            
            const counts = {};
            members.forEach(m => {
                if (m.status === 'Active') {
                    counts[m.tier] = (counts[m.tier] || 0) + 1;
                }
            });
            
            const total = Object.values(counts).reduce((a, b) => a + b, 0);
            
            container.innerHTML = '';
            
            ['Basic', 'Premium', 'Enterprise'].forEach(tier => {
                const count = counts[tier] || 0;
                const percentage = total ? (count / total * 100).toFixed(1) : 0;
                
                const div = document.createElement('div');
                div.className = 'progress-item';
                div.innerHTML = `
                    <div class="progress-header">
                        <span>${tier}</span>
                        <span>${count} members (${percentage}%)</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill fill-${tier.toLowerCase()}" style="width: ${percentage}%"></div>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        function renderRevenueByTier() {
            const tbody = document.getElementById('revenueByTier');
            if (!tbody) return;
            
            const revenue = {};
            members.forEach(m => {
                if (m.status === 'Active') {
                    revenue[m.tier] = (revenue[m.tier] || 0) + m.mrr;
                }
            });
            
            tbody.innerHTML = '';
            
            ['Basic', 'Premium', 'Enterprise'].forEach(tier => {
                const amount = revenue[tier] || 0;
                const row = tbody.insertRow();
                row.innerHTML = `
                    <td>${tier}</td>
                    <td>$${amount.toLocaleString()}</td>
                    <td>${amount ? ((amount / Object.values(revenue).reduce((a, b) => a + b, 0)) * 100).toFixed(1) : 0}%</td>
                `;
            });
        }

        function renderAttention() {
            const container = document.getElementById('attentionContainer');
            if (!container) return;
            
            const today = new Date();
            
            const expiringSoon = members.filter(m => {
                if (!m.renewalDate || m.status !== 'Active') return false;
                const renewal = new Date(m.renewalDate);
                const days = Math.ceil((renewal - today) / (1000 * 60 * 60 * 24));
                return days <= 7 && days > 0;
            }).length;
            
            const failedPayments = payments.filter(p => p.status === 'Failed').length;
            const pendingRequests = members.filter(m => m.status === 'Pending').length;
            
            container.innerHTML = `
                <div class="attention-item">
                    <div class="attention-icon" style="background: #fef3c7; color: #92400e;">‚ö†Ô∏è</div>
                    <div class="attention-content">
                        <div class="attention-title">Expiring Soon</div>
                        <div class="attention-meta">${expiringSoon} members in 7 days</div>
                    </div>
                </div>
                <div class="attention-item">
                    <div class="attention-icon" style="background: #fee2e2; color: #991b1b;">‚ùå</div>
                    <div class="attention-content">
                        <div class="attention-title">Failed Payments</div>
                        <div class="attention-meta">${failedPayments} payments to retry</div>
                    </div>
                </div>
                <div class="attention-item">
                    <div class="attention-icon" style="background: #dbeafe; color: #1e40af;">‚è≥</div>
                    <div class="attention-content">
                        <div class="attention-title">Pending Requests</div>
                        <div class="attention-meta">${pendingRequests} awaiting approval</div>
                    </div>
                </div>
            `;
        }

        function renderSubscriptions() {
            const tbody = document.getElementById('subscriptionsTableBody');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            subscriptions.forEach(sub => {
                const row = tbody.insertRow();
                row.innerHTML = `
                    <td>${sub.id}</td>
                    <td>${sub.memberName}</td>
                    <td>${sub.plan}</td>
                    <td>${sub.billingPeriod}</td>
                    <td>${sub.startDate}</td>
                    <td>${sub.endDate}</td>
                    <td>$${sub.amount}</td>
                    <td><span class="badge badge-${sub.status.toLowerCase()}">${sub.status}</span></td>
                    <td class="action-icons">
                        <span class="action-icon" onclick="editSubscription('${sub.id}')">‚úèÔ∏è</span>
                        <span class="action-icon" onclick="cancelSubscription('${sub.id}')">‚ùå</span>
                    </td>
                `;
            });
        }

        function renderPlans() {
            const tbody = document.getElementById('plansTableBody');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            plans.forEach(plan => {
                const active = members.filter(m => m.tier === plan.name && m.status === 'Active').length;
                
                const row = tbody.insertRow();
                row.innerHTML = `
                    <td><strong>${plan.name}</strong></td>
                    <td>${plan.description}</td>
                    <td>$${plan.monthlyPrice}</td>
                    <td>$${plan.annualPrice}</td>
                    <td>${plan.features}</td>
                    <td>${active}</td>
                    <td class="action-icons">
                        <span class="action-icon" onclick="editPlan(${plan.id})">‚úèÔ∏è</span>
                        <span class="action-icon" onclick="deletePlan(${plan.id})">üóëÔ∏è</span>
                    </td>
                `;
            });
        }

        function renderAllPayments() {
            const tbody = document.getElementById('allPaymentsTableBody');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            const search = document.getElementById('paymentSearch')?.value.toLowerCase() || '';
            const status = document.getElementById('paymentStatusFilter')?.value || '';
            
            const filtered = payments.filter(p => {
                const matchesSearch = search === '' || 
                    p.memberName.toLowerCase().includes(search) ||
                    p.invoice.toLowerCase().includes(search);
                const matchesStatus = !status || p.status === status;
                return matchesSearch && matchesStatus;
            });
            
            filtered.forEach(p => {
                const row = tbody.insertRow();
                row.innerHTML = `
                    <td>${p.date}</td>
                    <td>${p.invoice}</td>
                    <td>${p.memberName}</td>
                    <td>${p.description}</td>
                    <td>$${p.amount}</td>
                    <td>${p.method}</td>
                    <td><span class="badge badge-${p.status.toLowerCase()}">${p.status}</span></td>
                    <td class="action-icons">
                        <span class="action-icon" onclick="viewPayment('${p.id}')">üëÅÔ∏è</span>
                    </td>
                `;
            });
        }

        function renderAllRenewals() {
            const tbody = document.getElementById('allRenewalsTableBody');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            
            const period = document.getElementById('renewalPeriodFilter')?.value || '30';
            const today = new Date();
            let endDate = new Date();
            
            if (period !== 'all') {
                endDate.setDate(today.getDate() + parseInt(period));
            } else {
                endDate.setFullYear(today.getFullYear() + 1);
            }
            
            const renewals = members.filter(m => {
                if (!m.renewalDate || m.status !== 'Active') return false;
                const renewal = new Date(m.renewalDate);
                return renewal >= today && renewal <= endDate;
            }).sort((a, b) => new Date(a.renewalDate) - new Date(b.renewalDate));
            
            renewals.forEach(member => {
                const row = tbody.insertRow();
                const amount = member.billingPeriod === 'Annual' ? member.mrr * 10 : member.mrr;
                const renewalDate = new Date(member.renewalDate);
                const daysLeft = Math.ceil((renewalDate - today) / (1000 * 60 * 60 * 24));
                
                row.innerHTML = `
                    <td>${member.name}</td>
                    <td>${member.tier}</td>
                    <td>${member.renewalDate}</td>
                    <td>$${amount}</td>
                    <td>${daysLeft} days</td>
                    <td>${member.billingPeriod === 'Annual' ? '‚úì' : '‚úó'}</td>
                    <td><span class="badge badge-${daysLeft <= 7 ? 'pending' : 'active'}">${daysLeft <= 7 ? 'Urgent' : 'Upcoming'}</span></td>
                    <td class="action-icons">
                        <span class="action-icon" onclick="processRenewal('${member.id}')">‚ö°</span>
                    </td>
                `;
            });
        }

        function renderAnalytics() {
            const active = members.filter(m => m.status === 'Active').length;
            const now = new Date();
            const newThisMonth = members.filter(m => {
                const join = new Date(m.joinDate);
                return join.getMonth() === now.getMonth() && join.getFullYear() === now.getFullYear();
            }).length;
            
            const churned = members.filter(m => m.status === 'Cancelled').length;
            const revenue = members.reduce((sum, m) => sum + (m.status === 'Active' ? m.mrr : 0), 0);
            const arpu = active ? revenue / active : 0;
            const ltv = arpu * 24;
            
            document.getElementById('analyticsNewMembers').textContent = newThisMonth;
            document.getElementById('analyticsChurned').textContent = churned;
            document.getElementById('analyticsGrowth').textContent = newThisMonth - churned;
            document.getElementById('analyticsRetention').textContent = active ? ((active - churned) / active * 100).toFixed(1) + '%' : '0%';
            document.getElementById('analyticsARPU').textContent = '$' + arpu.toFixed(2);
            document.getElementById('analyticsLTV').textContent = '$' + ltv.toFixed(2);
            document.getElementById('analyticsRevenueGrowth').textContent = '+15.3%';
            document.getElementById('analyticsExpansion').textContent = '$2,450';
        }

        // Tab switching
        function switchTab(tabName, element) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            element.classList.add('active');
            
            document.getElementById('membersView').style.display = tabName === 'members' ? 'block' : 'none';
            document.getElementById('subscriptionsView').style.display = tabName === 'subscriptions' ? 'block' : 'none';
            document.getElementById('plansView').style.display = tabName === 'plans' ? 'block' : 'none';
            document.getElementById('paymentsView').style.display = tabName === 'payments' ? 'block' : 'none';
            document.getElementById('renewalsView').style.display = tabName === 'renewals' ? 'block' : 'none';
            document.getElementById('analyticsView').style.display = tabName === 'analytics' ? 'block' : 'none';
            
            if (tabName === 'subscriptions') renderSubscriptions();
            if (tabName === 'plans') renderPlans();
            if (tabName === 'payments') renderAllPayments();
            if (tabName === 'renewals') renderAllRenewals();
            if (tabName === 'analytics') renderAnalytics();
            
            showAlert(`Switched to ${tabName} view`, 'info');
        }

        // Member CRUD
        function openMemberModal(id = null) {
            document.getElementById('memberModalTitle').textContent = id ? 'Edit Member' : 'Add New Member';
            
            if (id) {
                const member = members.find(m => m.id === id);
                if (member) {
                    document.getElementById('memberId').value = member.id;
                    document.getElementById('memberName').value = member.name;
                    document.getElementById('memberEmail').value = member.email;
                    document.getElementById('memberPhone').value = member.phone || '';
                    document.getElementById('memberTier').value = member.tier;
                    document.getElementById('billingPeriod').value = member.billingPeriod;
                    document.getElementById('joinDate').value = member.joinDate;
                    document.getElementById('memberStatus').value = member.status;
                }
            } else {
                document.getElementById('memberForm').reset();
                document.getElementById('memberId').value = '';
                document.getElementById('joinDate').value = new Date().toISOString().split('T')[0];
            }
            
            document.getElementById('memberModal').classList.add('active');
        }

        function closeMemberModal() {
            document.getElementById('memberModal').classList.remove('active');
        }

        function saveMember(e) {
            e.preventDefault();
            
            const id = document.getElementById('memberId').value;
            const tier = document.getElementById('memberTier').value;
            const billing = document.getElementById('billingPeriod').value;
            
            let mrr = tier === 'Basic' ? 49 : tier === 'Premium' ? 99 : 299;
            if (billing === 'Annual') mrr = mrr * 0.9;
            
            const memberData = {
                id: id || 'M-' + Math.floor(1000 + Math.random() * 9000),
                name: document.getElementById('memberName').value,
                email: document.getElementById('memberEmail').value,
                phone: document.getElementById('memberPhone').value,
                tier: tier,
                billingPeriod: billing,
                joinDate: document.getElementById('joinDate').value,
                status: document.getElementById('memberStatus').value,
                mrr: Math.round(mrr * 100) / 100
            };
            
            // Set renewal date
            const join = new Date(memberData.joinDate);
            const renewal = new Date(join);
            renewal.setFullYear(renewal.getFullYear() + 1);
            memberData.renewalDate = renewal.toISOString().split('T')[0];
            
            if (id) {
                const index = members.findIndex(m => m.id === id);
                members[index] = { ...members[index], ...memberData };
                showAlert('Member updated successfully', 'success');
            } else {
                members.push(memberData);
                showAlert('Member added successfully', 'success');
            }
            
            updateAllViews();
            closeMemberModal();
        }

        function viewMember(id) {
            const member = members.find(m => m.id === id);
            showAlert(`Viewing ${member.name}`, 'info');
        }

        function editMember(id) {
            openMemberModal(id);
        }

        function deleteMember(id) {
            if (confirm('Are you sure you want to delete this member?')) {
                members = members.filter(m => m.id !== id);
                updateAllViews();
                showAlert('Member deleted', 'warning');
            }
        }

        // Process renewal
        function processRenewal(id) {
            const member = members.find(m => m.id === id);
            if (member && confirm(`Process renewal for ${member.name}?`)) {
                const renewal = new Date(member.renewalDate);
                renewal.setFullYear(renewal.getFullYear() + 1);
                member.renewalDate = renewal.toISOString().split('T')[0];
                
                // Create payment
                const amount = member.billingPeriod === 'Annual' ? member.mrr * 10 : member.mrr;
                payments.push({
                    id: 'PAY-' + Math.floor(100 + Math.random() * 900),
                    date: new Date().toISOString().split('T')[0],
                    memberId: member.id,
                    memberName: member.name,
                    invoice: 'INV-' + member.id + '-' + new Date().toISOString().slice(2,7).replace('-',''),
                    description: `${member.tier} ${member.billingPeriod} Renewal`,
                    amount: amount,
                    method: 'Auto-Renew',
                    status: 'Paid'
                });
                
                updateAllViews();
                showAlert('Renewal processed', 'success');
            }
        }

        function processAllRenewals() {
            const today = new Date();
            const thirtyDays = new Date();
            thirtyDays.setDate(today.getDate() + 30);
            
            const toRenew = members.filter(m => {
                if (!m.renewalDate || m.status !== 'Active') return false;
                const renewal = new Date(m.renewalDate);
                return renewal >= today && renewal <= thirtyDays;
            });
            
            if (toRenew.length > 0 && confirm(`Process ${toRenew.length} renewals?`)) {
                toRenew.forEach(processRenewal);
                showAlert(`${toRenew.length} renewals processed`, 'success');
            }
        }

        // Filter functions
        function filterPayments() {
            renderAllPayments();
        }

        function filterRenewals() {
            renderAllRenewals();
        }

        // Refresh functions
        function refreshDistribution() {
            renderDistribution();
            showAlert('Distribution refreshed', 'success');
        }

        function refreshRevenue() {
            renderRevenueByTier();
            showAlert('Revenue data refreshed', 'success');
        }

        function refreshAttention() {
            renderAttention();
            showAlert('Attention items refreshed', 'success');
        }

        function refreshAnalytics() {
            renderAnalytics();
            showAlert('Analytics refreshed', 'success');
        }

        // View all
        function viewAllPayments() {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab')[3].classList.add('active');
            switchTab('payments', document.querySelectorAll('.tab')[3]);
        }

        // Export
        function exportMembers() {
            const csv = ['ID,Name,Email,Tier,Status,MRR'];
            members.forEach(m => {
                csv.push(`${m.id},${m.name},${m.email},${m.tier},${m.status},${m.mrr}`);
            });
            
            const blob = new Blob([csv.join('\n')], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'members.csv';
            a.click();
            showAlert('Members exported', 'success');
        }

        function exportData() {
            exportMembers();
        }

        // Stat details
        function filterByStatus(status) {
            document.getElementById('statusFilter').value = status;
            filterMembers();
            showAlert(`Showing ${status} members`, 'info');
        }

        function showRevenueDetails() {
            const monthly = parseFloat(document.getElementById('monthlyRevenue').textContent.replace('$', '').replace(',', ''));
            showAlert(`Monthly Revenue: $${monthly}\nAnnual: $${monthly * 12}`, 'info');
        }

        function showARRDetails() {
            const annual = parseFloat(document.getElementById('annualRevenue').textContent.replace('$', '').replace(',', ''));
            showAlert(`ARR: $${annual}\nGrowth: 18.2%`, 'info');
        }

        function showChurnDetails() {
            const churn = document.getElementById('churnRate').textContent;
            showAlert(`Churn Rate: ${churn}\nImproved by 0.5%`, 'info');
        }

        // Send reminders
        function sendReminders() {
            showAlert('Reminders sent successfully', 'success');
        }

        function retryPayments() {
            showAlert('Retrying failed payments...', 'info');
        }

        // Subscription functions
        function openSubscriptionModal() {
            const memberSelect = document.getElementById('subscriptionMember');
            memberSelect.innerHTML = '<option value="">Select Member</option>';
            members.forEach(m => {
                memberSelect.innerHTML += `<option value="${m.id}">${m.name} (${m.id})</option>`;
            });
            
            const planSelect = document.getElementById('subscriptionPlan');
            planSelect.innerHTML = '<option value="">Select Plan</option>';
            plans.forEach(p => {
                planSelect.innerHTML += `<option value="${p.name}" data-monthly="${p.monthlyPrice}" data-annual="${p.annualPrice}">${p.name}</option>`;
            });
            
            document.getElementById('subscriptionStart').value = new Date().toISOString().split('T')[0];
            const end = new Date();
            end.setFullYear(end.getFullYear() + 1);
            document.getElementById('subscriptionEnd').value = end.toISOString().split('T')[0];
            
            document.getElementById('subscriptionModal').classList.add('active');
        }

        function closeSubscriptionModal() {
            document.getElementById('subscriptionModal').classList.remove('active');
        }

        function updateSubscriptionAmount() {
            const plan = document.getElementById('subscriptionPlan');
            const period = document.getElementById('subscriptionBillingPeriod').value;
            const amountField = document.getElementById('subscriptionAmount');
            
            if (plan.value) {
                const selected = plan.options[plan.selectedIndex];
                const monthly = parseFloat(selected.dataset.monthly);
                const annual = parseFloat(selected.dataset.annual);
                amountField.value = '$' + (period === 'Annual' ? annual : monthly);
            }
        }

        function saveSubscription(e) {
            e.preventDefault();
            showAlert('Subscription created', 'success');
            closeSubscriptionModal();
        }

        function editSubscription(id) {
            showAlert('Edit subscription: ' + id, 'info');
        }

        function cancelSubscription(id) {
            if (confirm('Cancel this subscription?')) {
                showAlert('Subscription cancelled', 'warning');
            }
        }

        // Plan functions
        function openPlanModal() {
            document.getElementById('planModal').classList.add('active');
        }

        function closePlanModal() {
            document.getElementById('planModal').classList.remove('active');
        }

        function savePlan(e) {
            e.preventDefault();
            showAlert('Plan added', 'success');
            closePlanModal();
        }

        function editPlan(id) {
            showAlert('Edit plan: ' + id, 'info');
        }

        function deletePlan(id) {
            if (confirm('Delete this plan?')) {
                showAlert('Plan deleted', 'warning');
            }
        }

        // Payment functions
        function recordPayment() {
            const memberSelect = document.getElementById('paymentMember');
            memberSelect.innerHTML = '<option value="">Select Member</option>';
            members.forEach(m => {
                memberSelect.innerHTML += `<option value="${m.id}">${m.name}</option>`;
            });
            
            document.getElementById('paymentDate').value = new Date().toISOString().split('T')[0];
            document.getElementById('paymentModal').classList.add('active');
        }

        function closePaymentModal() {
            document.getElementById('paymentModal').classList.remove('active');
        }

        function savePayment(e) {
            e.preventDefault();
            showAlert('Payment recorded', 'success');
            closePaymentModal();
        }

        function viewPayment(id) {
            showAlert('Viewing payment: ' + id, 'info');
        }

        // Footer functions
        function showAbout() {
            showAlert('CephasGM ERP - Membership Module v3.14.2', 'info');
        }

        function showPrivacy() {
            showAlert('Privacy Policy - Your data is secure', 'info');
        }

        function showTerms() {
            showAlert('Terms of Service - Licensed to CephasGM Group', 'info');
        }

        function showSupport() {
            showAlert('Support: support@cephasgm.com', 'info');
        }

        // Update all views
        function updateAllViews() {
            updateStats();
            renderMembers();
            renderRenewals();
            renderPayments();
            renderDistribution();
            renderRevenueByTier();
            renderAttention();
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateAllViews();
            
            // Set default dates
            document.getElementById('joinDate').value = new Date().toISOString().split('T')[0];
            
            // Keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                if (e.ctrlKey && e.key === 'f') {
                    e.preventDefault();
                    document.getElementById('searchInput').focus();
                }
                if (e.key === 'Escape') {
                    closeMemberModal();
                    closeSubscriptionModal();
                    closePlanModal();
                    closePaymentModal();
                }
            });
        });
    </script>
</body>
</html>
